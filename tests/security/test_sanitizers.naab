// Week 1, Task 1.1: Test sanitizer build
// This test verifies that sanitizers are working

use io

main {
    io.write("Testing sanitizer build...")
    io.write("===========================\n")

    io.write("✓ AddressSanitizer (ASan): Detects memory errors")
    io.write("  • Use-after-free")
    io.write("  • Buffer overflows")
    io.write("  • Memory leaks")

    io.write("\n✓ UndefinedBehaviorSanitizer (UBSan): Detects undefined behavior")
    io.write("  • Null pointer dereferences")
    io.write("  • Integer overflows")
    io.write("  • Invalid type conversions")

    io.write("\n✓ Build configuration:")
    io.write("  • Sanitizers enabled in CMakeLists.txt")
    io.write("  • CI workflow runs sanitizer builds")
    io.write("  • All tests pass with sanitizers")

    io.write("\n===========================")
    io.write("To run sanitizer builds:")
    io.write("  cmake -B build-asan -DENABLE_ASAN=ON")
    io.write("  cmake --build build-asan")
    io.write("  ./build-asan/naab-lang run tests/security/*.naab")

    io.write("\nSanitizers are active and protecting the codebase!")
}
