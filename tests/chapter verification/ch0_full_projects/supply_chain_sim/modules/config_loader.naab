// modules/config_loader.naab
use json
use file
use io

struct Config {
    simulation_days: int,
    regions: list<string>,
    products: list<string>,
    base_currency: string
}

export fn load(path: string) -> Config? {
    if !file.exists(path) {
        return null
    }
    let content = file.read(path)
    let parsed = json.parse(content)
    
    return new Config {
        simulation_days: parsed.simulation_days,
        regions: parsed.regions,
        products: parsed.products,
        base_currency: parsed.base_currency
    }
}
