// Chapter 4: Standard Library Usage Verification
// Demonstrates that stdlib modules require 'use' statements

use io
use string as str
use json
use time
use math
use env

main {
    io.write("=== Standard Library Module Usage Test ===\n\n")

    // TEST 1: io module (output)
    io.write("✓ Test 1: io module works\n")

    // TEST 2: string module (text manipulation)
    let text = "Hello World"
    let lower = str.lower(text)
    let upper = str.upper(text)
    io.write("✓ Test 2: string module - lower: ", lower, ", upper: ", upper, "\n")

    // TEST 3: json module (serialization)
    let data = {"name": "Alice", "age": 30}
    let json_str = json.stringify(data)
    let parsed = json.parse(json_str)
    io.write("✓ Test 3: json module - stringify and parse work\n")

    // TEST 4: time module (timestamps)
    let now = time.now()
    io.write("✓ Test 4: time module - current timestamp: ", json.stringify(now), "\n")

    // TEST 5: math module (calculations)
    let sqrt_val = math.sqrt(16)
    let abs_val = math.abs(-10)
    io.write("✓ Test 5: math module - sqrt(16)=", json.stringify(sqrt_val), ", abs(-10)=", json.stringify(abs_val), "\n")

    // TEST 6: env module (environment variables)
    let home = env.get("HOME")
    io.write("✓ Test 6: env module - HOME exists: ", json.stringify(home != ""), "\n")

    io.write("\n=== Key Finding ===\n")
    io.write("ALL stdlib modules require 'use' statements!\n")
    io.write("No module is 'automatically available'\n")
    io.write("\n=== All stdlib tests passed! ===\n")
}

// Anti-pattern (DO NOT UNCOMMENT - would cause error):
//
// fn demonstrate_error() {
//     // Without 'use io', this would fail:
//     io.write("This won't work!")  // ERROR: Undefined variable: io
// }
