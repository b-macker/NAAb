// polyglot_tower/modules/world.naab
use io
use json
use types

// Uses C++ to calculate precise distance (Math heavy)
export fn get_distance_to_exit(player_x: int, player_y: int, exit_x: int, exit_y: int) -> float {
    
    // C++ is ideal for performance-critical math operations
    // Note: Implicit return of the last expression
    let dist = <<cpp[player_x, player_y, exit_x, exit_y]
#include <cmath>
float dx = (float)(player_x - exit_x);
float dy = (float)(player_y - exit_y);
std::sqrt(dx*dx + dy*dy);
    >>
    
    return dist
}