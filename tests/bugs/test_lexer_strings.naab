// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BUG HUNT TEST: String Literal Edge Cases
// Tests lexer string parsing for edge cases that could cause crashes or bugs
// Priority: HIGH (could cause crashes, data corruption, or parsing errors)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

main {
    let total_tests = 0
    let passed_tests = 0
    let failed_tests = 0

    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print("  BUG HUNT: String Literal Edge Cases")
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print()

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SECTION 1: Empty Strings
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    print("[String.1] Empty string - double quotes")
    total_tests = total_tests + 1
    let empty1 = ""
    if empty1 == "" {
        print("  âœ… PASS: Empty string with double quotes works")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Empty string not equal to empty string")
        failed_tests = failed_tests + 1
    }

    print("[String.2] Empty string - single quotes")
    total_tests = total_tests + 1
    let empty2 = ''
    if empty2 == '' {
        print("  âœ… PASS: Empty string with single quotes works")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Single quote empty string failed")
        failed_tests = failed_tests + 1
    }

    print("[String.3] Empty strings equality")
    total_tests = total_tests + 1
    if empty1 == empty2 {
        print("  âœ… PASS: Empty strings from different quotes are equal")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Empty strings not equal across quote types")
        failed_tests = failed_tests + 1
    }

    print()

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SECTION 2: Unicode Characters
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    print("[String.4] Unicode emoji in string")
    total_tests = total_tests + 1
    let emoji = "Hello ğŸ‘‹ World ğŸŒ"
    if emoji == "Hello ğŸ‘‹ World ğŸŒ" {
        print("  âœ… PASS: Emoji preserved correctly")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Emoji not preserved: ", emoji)
        failed_tests = failed_tests + 1
    }

    print("[String.5] Unicode Chinese characters")
    total_tests = total_tests + 1
    let chinese = "ä½ å¥½ä¸–ç•Œ"
    if chinese == "ä½ å¥½ä¸–ç•Œ" {
        print("  âœ… PASS: Chinese characters preserved")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Chinese characters corrupted: ", chinese)
        failed_tests = failed_tests + 1
    }

    print("[String.6] Mixed ASCII and Unicode")
    total_tests = total_tests + 1
    let mixed = "Test: ä½ å¥½ ğŸ‘‹ ABC 123"
    if mixed == "Test: ä½ å¥½ ğŸ‘‹ ABC 123" {
        print("  âœ… PASS: Mixed ASCII/Unicode preserved")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Mixed string corrupted: ", mixed)
        failed_tests = failed_tests + 1
    }

    print()

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SECTION 3: Escape Sequences
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    print("[String.7] Basic escape sequences")
    total_tests = total_tests + 1
    let escaped = "Line1\nLine2\tTabbed"
    // Should contain newline and tab
    let has_newline = string.contains(escaped, "\n")
    let has_tab = string.contains(escaped, "\t")
    if has_newline && has_tab {
        print("  âœ… PASS: Basic escapes (\\n, \\t) work")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Escape sequences not working")
        failed_tests = failed_tests + 1
    }

    print("[String.8] Escaped quotes")
    total_tests = total_tests + 1
    let quoted = "He said \"hello\""
    if string.contains(quoted, "\"") {
        print("  âœ… PASS: Escaped double quotes work")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Escaped quotes failed: ", quoted)
        failed_tests = failed_tests + 1
    }

    print("[String.9] Escaped backslash")
    total_tests = total_tests + 1
    let backslash = "C:\\path\\to\\file"
    if string.contains(backslash, "\\") {
        print("  âœ… PASS: Escaped backslash works")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Escaped backslash failed: ", backslash)
        failed_tests = failed_tests + 1
    }

    print("[String.10] Consecutive escapes")
    total_tests = total_tests + 1
    let consecutive = "Test\\\nDouble"
    // Should be: Test\<newline>Double
    if string.contains(consecutive, "\\") && string.contains(consecutive, "\n") {
        print("  âœ… PASS: Consecutive escapes (\\\\\\n) work")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Consecutive escapes failed: ", consecutive)
        failed_tests = failed_tests + 1
    }

    print()

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SECTION 4: Special Characters
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    print("[String.11] Null character escape")
    total_tests = total_tests + 1
    let null_char = "Before\0After"
    // Null character might truncate or be handled specially
    let null_len = string.length(null_char)
    if null_len > 0 {
        print("  âœ… PASS: Null character handled (length: ", null_len, ")")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Null character broke string")
        failed_tests = failed_tests + 1
    }

    print("[String.12] String with only whitespace")
    total_tests = total_tests + 1
    let whitespace = "   \t  \n  "
    if string.length(whitespace) > 0 {
        print("  âœ… PASS: Whitespace-only string preserved")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Whitespace string empty")
        failed_tests = failed_tests + 1
    }

    print()

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SECTION 5: String Length Edge Cases
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    print("[String.13] Very long string (1000 chars)")
    total_tests = total_tests + 1
    // Build a 1000-character string using Python
    let long_str = <<python
"x" * 1000
    >>
    let long_len = string.length(long_str)
    if long_len == 1000 {
        print("  âœ… PASS: 1000-char string length correct")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Expected 1000, got: ", long_len)
        failed_tests = failed_tests + 1
    }

    print("[String.14] Very long string (10000 chars)")
    total_tests = total_tests + 1
    let huge_str = <<python
"y" * 10000
    >>
    let huge_len = string.length(huge_str)
    if huge_len == 10000 {
        print("  âœ… PASS: 10k-char string length correct")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Expected 10000, got: ", huge_len)
        failed_tests = failed_tests + 1
    }

    print()

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SECTION 6: String Operations Edge Cases
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    print("[String.15] Concatenate empty strings")
    total_tests = total_tests + 1
    let concat_empty = "" + "" + ""
    if concat_empty == "" {
        print("  âœ… PASS: Empty string concatenation works")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Empty concat failed: '", concat_empty, "'")
        failed_tests = failed_tests + 1
    }

    print("[String.16] Concatenate with unicode")
    total_tests = total_tests + 1
    let concat_unicode = "Hello " + "ğŸ‘‹" + " World"
    if concat_unicode == "Hello ğŸ‘‹ World" {
        print("  âœ… PASS: Unicode concatenation works")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Unicode concat failed: ", concat_unicode)
        failed_tests = failed_tests + 1
    }

    print("[String.17] String equality with escapes")
    total_tests = total_tests + 1
    let str1 = "Hello\nWorld"
    let str2 = "Hello\nWorld"
    if str1 == str2 {
        print("  âœ… PASS: Strings with escapes are equal")
        passed_tests = passed_tests + 1
    } else {
        print("  âŒ FAIL: Escaped strings not equal")
        failed_tests = failed_tests + 1
    }

    print()

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // FINAL REPORT
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    print()
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print("  STRING LITERAL EDGE CASES - FINAL REPORT")
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print()
    print("Total Tests:  ", total_tests)
    print("Passed:       ", passed_tests)
    print("Failed:       ", failed_tests)
    print()

    if failed_tests == 0 {
        print("âœ… âœ… âœ…  ALL STRING TESTS PASSED  âœ… âœ… âœ…")
        print()
        print("STRING EDGE CASES COVERED:")
        print("  âœ“ Empty strings (double/single quotes)")
        print("  âœ“ Unicode characters (emoji, Chinese)")
        print("  âœ“ Escape sequences (\\n, \\t, \\\", \\\\, \\0)")
        print("  âœ“ Special characters and whitespace")
        print("  âœ“ Very long strings (1k, 10k chars)")
        print("  âœ“ String operations (concat, equality)")
        print()
    } else {
        print("âŒ SOME STRING TESTS FAILED")
        print("   Bugs found: ", failed_tests, " / ", total_tests)
        print()
        print("âš ï¸  Review failures and fix lexer string handling!")
    }
    print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
}
