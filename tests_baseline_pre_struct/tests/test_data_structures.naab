// Test: Data Structures
// Tests: lists, dicts, string methods, array methods

print("=== Test 1: Lists ===")

let numbers = [1, 2, 3, 4, 5]
print("List:", numbers)
print("Length:", numbers.length)  // Expected: 5
print("First element:", numbers[0]) // Expected: 1
print("Last element:", numbers[4])  // Expected: 5

// List operations
numbers.push(6)
print("After push(6):", numbers)    // Expected: [1, 2, 3, 4, 5, 6]

let popped = numbers.pop()
print("Popped:", popped)            // Expected: 6
print("After pop():", numbers)      // Expected: [1, 2, 3, 4, 5]

print("\n=== Test 2: Dictionaries ===")

let person = {
    "name": "Alice",
    "age": 30,
    "city": "NYC"
}

print("Person:", person)
print("Name:", person["name"])      // Expected: Alice
print("Age:", person["age"])        // Expected: 30

// Dict operations
person["email"] = "alice@example.com"
print("After adding email:", person)

print("\n=== Test 3: String Methods ===")

let text = "  Hello, World!  "
print("Original:", text)
print("trimmed:", text.trim())      // Expected: "Hello, World!"
print("uppercase:", text.toUpperCase()) // Expected: "  HELLO, WORLD!  "
print("lowercase:", text.toLowerCase()) // Expected: "  hello, world!  "

let words = "apple,banana,cherry"
let parts = words.split(",")
print("split(','):", parts)         // Expected: ["apple", "banana", "cherry"]

print("\n=== Test 4: Array Methods ===")

let nums = [1, 2, 3, 4, 5]

// Map
let doubled = nums.map(function(x) { return x * 2 })
print("map(x*2):", doubled)         // Expected: [2, 4, 6, 8, 10]

// Filter
let evens = nums.filter(function(x) { return x % 2 == 0 })
print("filter(even):", evens)       // Expected: [2, 4]

// Find
let found = nums.find(function(x) { return x > 3 })
print("find(x>3):", found)          // Expected: 4

// Slice
let slice = nums.slice(1, 4)
print("slice(1,4):", slice)         // Expected: [2, 3, 4]

print("\n=== Test 5: Nested Structures ===")

let data = {
    "users": [
        {"name": "Alice", "score": 95},
        {"name": "Bob", "score": 87},
        {"name": "Charlie", "score": 92}
    ],
    "total": 3
}

print("Total users:", data["total"])           // Expected: 3
print("First user:", data["users"][0]["name"]) // Expected: Alice
print("Bob's score:", data["users"][1]["score"]) // Expected: 87

print("\n=== All Data Structure Tests Passed ===")
