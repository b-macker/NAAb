# Test Phase 2.4.4 Phase 2: Function Return Type Inference

# Test 1: Simple return - infer int
fn getInt() {
    return 42
}

# Test 2: Simple return - infer string
fn getString() {
    return "hello"
}

# Test 3: Multiple returns same type
fn conditional(flag: bool) {
    if (flag) {
        return "yes"
    } else {
        return "no"
    }
}

# Test 4: No return - infer void
fn doSomething() {
    let x = 5
}

# Test 5: Arithmetic expression - infer int
fn addNumbers(a: int, b: int) {
    return a + b
}

# Test 6: List return - infer list<int>
fn getList() {
    return [1, 2, 3, 4, 5]
}

# Test 7: Conditional with different types - infer union
fn mixedReturn(useInt: bool) {
    if (useInt) {
        return 42
    } else {
        return "string"
    }
}

main {
    print("=== Function Return Type Inference Tests ===")
    print("")

    print("Test 1: Simple int return")
    let x = getInt()
    print("  getInt() = " + x.toString())
    print("")

    print("Test 2: Simple string return")
    let s = getString()
    print("  getString() = " + s)
    print("")

    print("Test 3: Conditional returns (same type)")
    let yes = conditional(true)
    let no = conditional(false)
    print("  conditional(true) = " + yes)
    print("  conditional(false) = " + no)
    print("")

    print("Test 4: No return (void)")
    doSomething()
    print("  doSomething() executed")
    print("")

    print("Test 5: Arithmetic expression")
    let sum = addNumbers(10, 20)
    print("  addNumbers(10, 20) = " + sum.toString())
    print("")

    print("Test 6: List return")
    let list = getList()
    print("  getList() = " + list.toString())
    print("")

    print("Test 7: Mixed return types (union)")
    let intResult = mixedReturn(true)
    let strResult = mixedReturn(false)
    print("  mixedReturn(true) = " + intResult.toString())
    print("  mixedReturn(false) = " + strResult)
    print("")

    print("=== All tests completed ===")
}
