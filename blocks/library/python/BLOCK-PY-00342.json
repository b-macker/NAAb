{
  "code": "extern \"C\" {\n\nvoid BLOCK-PY-00342_execute() {\n    def visit_Block(self, node: nodes.Block, frame: Frame) -> None:\n        \"\"\"Call a block and register it for the template.\"\"\"\n        level = 0\n        if frame.toplevel:\n            # if we know that we are a child template, there is no need to\n            # check if we are one\n            if self.has_known_extends:\n                return\n            if self.extends_so_far > 0:\n                self.writeline(\"if parent_template is None:\")\n                self.indent()\n                level += 1\n\n        if node.scoped:\n            context = self.derive_context(frame)\n        else:\n            context = self.get_context_ref()\n\n        if node.required:\n            self.writeline(f\"if len(context.blocks[{node.name!r}]) <= 1:\", node)\n            self.indent()\n            self.writeline(\n                f'raise TemplateRuntimeError(\"Required block {node.name!r} not found\")',\n                node,\n            )\n            self.outdent()\n\n        if not self.environment.is_async and frame.buffer is None:\n            self.writeline(\n                f\"yield from context.blocks[{node.name!r}][0]({context})\", node\n            )\n        else:\n            self.writeline(f\"gen = context.blocks[{node.name!r}][0]({context})\")\n            self.writeline(\"try:\")\n            self.indent()\n            self.writeline(\n                f\"{self.choose_async()}for event in gen:\",\n                node,\n            )\n            self.indent()\n            self.simple_write(\"event\", frame)\n            self.outdent()\n            self.outdent()\n            self.writeline(\n                f\"finally: {self.choose_async('await gen.aclose()', 'gen.close()')}\"\n            )\n\n        self.outdent(level)\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-PY-00342",
  "language": "python",
  "source_file": "/data/data/com.termux/files/usr/tmp/tmp8pjecjps.py",
  "source_line": 945,
  "validation_status": "validated"
}