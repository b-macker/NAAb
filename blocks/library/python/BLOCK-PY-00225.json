{
  "code": "extern \"C\" {\n\nvoid BLOCK-PY-00225_execute() {\n    def _generate_nodejs_github_actions(self, complexity: str) -> str:\n        \"\"\"Generate Node.js GitHub Actions workflow\"\"\"\n        if complexity == 'high':\n            return \"\"\"# Production-Ready Node.js CI/CD Pipeline\nname: Node.js Production Pipeline\n\non:\n  push:\n    branches: [ main, develop ]\n    paths-ignore:\n      - 'docs/**'\n      - '*.md'\n  pull_request:\n    branches: [ main ]\n    types: [opened, synchronize, reopened]\n  release:\n    types: [published]\n  schedule:\n    - cron: '0 2 * * 1'  # Weekly dependency check\n\nenv:\n  NODE_VERSION: '18.x'\n  REGISTRY: ghcr.io\n  IMAGE_NAME: ${{ github.repository }}\n\njobs:\n  # Security and Dependency Scanning\n  security-scan:\n    name: Security Scan\n    runs-on: ubuntu-latest\n    steps:\n    - name: Checkout code\n      uses: actions/checkout@v4\n      with:\n        fetch-depth: 0\n\n    - name: Run Trivy vulnerability scanner\n      uses: aquasecurity/trivy-action@master\n      with:\n        scan-type: 'fs'\n        scan-ref: '.'\n        format: 'sarif'\n        output: 'trivy-results.sarif'\n\n    - name: Upload Trivy scan results to GitHub Security tab\n      uses: github/codeql-action/upload-sarif@v2\n      with:\n        sarif_file: 'trivy-results.sarif'\n\n    - name: Audit npm dependencies\n      run: npm audit --audit-level moderate\n\n    - name: Check for known security vulnerabilities\n      uses: securecodewarrior/github-action-add-sarif@v1\n      with:\n        sarif-file: 'trivy-results.sarif'\n\n  # Code Quality and Testing\n  test:\n    name: Test Suite\n    runs-on: ubuntu-latest\n    needs: security-scan\n    strategy:\n      matrix:\n        node-version: [16.x, 18.x, 20.x]\n        os: [ubuntu-latest, windows-latest, macos-latest]\n    services:\n      postgres:\n        image: postgres:15\n        env:\n          POSTGRES_PASSWORD: postgres\n          POSTGRES_DB: testdb\n        options: >-\n          --health-cmd pg_isready\n          --health-interval 10s\n          --health-timeout 5s\n          --health-retries 5\n        ports:\n          - 5432:5432\n      redis:\n        image: redis:7\n        options: >-\n          --health-cmd \"redis-cli ping\"\n          --health-interval 10s\n          --health-timeout 5s\n          --health-retries 5\n        ports:\n          - 6379:6379\n\n    steps:\n    - name: Checkout repository\n      uses: actions/checkout@v4\n\n    - name: Setup Node.js ${{ matrix.node-version }}\n      uses: actions/setup-node@v4\n      with:\n        node-version: ${{ matrix.node-version }}\n        cache: 'npm'\n        cache-dependency-path: package-lock.json\n\n    - name: Install dependencies\n      run: npm ci --frozen-lockfile\n\n    - name: Run ESLint\n      run: npm run lint:check\n\n    - name: Run Prettier format check\n      run: npm run format:check\n\n    - name: Run TypeScript type check\n      run: npm run type-check\n\n    - name: Run unit tests\n      run: npm run test:unit -- --coverage --watchAll=false\n      env:\n        NODE_ENV: test\n        DATABASE_URL: postgresql://postgres:postgres@localhost:5432/testdb\n        REDIS_URL: redis://localhost:6379\n\n    - name: Run integration tests\n      run: npm run test:integration\n      env:\n        NODE_ENV: test\n        DATABASE_URL: postgresql://postgres:postgres@localhost:5432/testdb\n        REDIS_URL: redis://localhost:6379\n\n    - name: Run E2E tests\n      run: npm run test:e2e\n      env:\n        NODE_ENV: test\n\n    - name: Upload coverage reports to Codecov\n      uses: codecov/codecov-action@v3\n      with:\n        file: ./coverage/lcov.info\n        flags: unittests\n        name: codecov-umbrella\n        fail_ci_if_error: false\n\n    - name: SonarCloud Scan\n      uses: SonarSource/sonarcloud-github-action@master\n      env:\n        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n        SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}\n\n  # Performance and Load Testing\n  performance:\n    name: Performance Tests\n    runs-on: ubuntu-latest\n    needs: test\n    if: github.event_name == 'push' && github.ref == 'refs/heads/main'\n    steps:\n    - name: Checkout repository\n      uses: actions/checkout@v4\n\n    - name: Setup Node.js\n      uses: actions/setup-node@v4\n      with:\n        node-version: ${{ env.NODE_VERSION }}\n        cache: 'npm'\n\n    - name: Install dependencies\n      run: npm ci --frozen-lockfile\n\n    - name: Build application\n      run: npm run build\n\n    - name: Start application\n      run: |\n        npm start &\n        sleep 30\n      env:\n        NODE_ENV: production\n\n    - name: Run Lighthouse CI\n      uses: treosh/lighthouse-ci-action@v10\n      with:\n        configPath: './lighthouse-ci.json'\n        uploadArtifacts: true\n        temporaryPublicStorage: true\n\n    - name: Run K6 performance tests\n      uses: grafana/k6-action@v0.3.0\n      with:\n        filename: performance/load-test.js\n      env:\n        BASE_URL: http://localhost:3000\n\n  # Build and Push Docker Image\n  build:\n    name: Build and Push\n    runs-on: ubuntu-latest\n    needs: [test, performance]\n    if: github.event_name == 'push' && (github.ref == 'refs/heads/main' || github.ref == 'refs/heads/develop')\n    outputs:\n      image: ${{ steps.image.outputs.image }}\n      digest: ${{ steps.build.outputs.digest }}\n    steps:\n    - name: Checkout repository\n      uses: actions/checkout@v4\n\n    - name: Setup Docker Buildx\n      uses: docker/setup-buildx-action@v3\n\n    - name: Log into registry ${{ env.REGISTRY }}\n      uses: docker/login-action@v3\n      with:\n        registry: ${{ env.REGISTRY }}\n        username: ${{ github.actor }}\n        password: ${{ secrets.GITHUB_TOKEN }}\n\n    - name: Extract metadata\n      id: meta\n      uses: docker/metadata-action@v5\n      with:\n        images: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}\n        tags: |\n          type=ref,event=branch\n          type=ref,event=pr\n          type=sha,prefix={{branch}}-\n          type=raw,value=latest,enable={{is_default_branch}}\n\n    - name: Build and push Docker image\n      id: build\n      uses: docker/build-push-action@v5\n      with:\n        context: .\n        file: ./Dockerfile.prod\n        push: true\n        tags: ${{ steps.meta.outputs.tags }}\n        labels: ${{ steps.meta.outputs.labels }}\n        cache-from: type=gha\n        cache-to: type=gha,mode=max\n        build-args: |\n          BUILD_DATE=${{ fromJSON(steps.meta.outputs.json).labels['org.opencontainers.image.created'] }}\n          VCS_REF=${{ fromJSON(steps.meta.outputs.json).labels['org.opencontainers.image.revision'] }}\n\n    - name: Output image\n      id: image\n      run: |\n        echo \"image=${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ steps.meta.outputs.version }}\" >> $GITHUB_OUTPUT\n\n  # Deploy to Staging\n  deploy-staging:\n    name: Deploy to Staging\n    runs-on: ubuntu-latest\n    needs: build\n    if: github.ref == 'refs/heads/develop'\n    environment:\n      name: staging\n      url: https://staging.company.com\n    steps:\n    - name: Deploy to staging cluster\n      uses: azure/k8s-deploy@v1\n      with:\n        manifests: |\n          k8s/staging/deployment.yaml\n          k8s/staging/service.yaml\n        images: ${{ needs.build.outputs.image }}\n        kubectl-version: 'v1.28.0'\n\n    - name: Run smoke tests\n      run: |\n        curl -f https://staging.company.com/health || exit 1\n        curl -f https://staging.company.com/api/health || exit 1\n\n  # Deploy to Production\n  deploy-production:\n    name: Deploy to Production  \n    runs-on: ubuntu-latest\n    needs: build\n    if: github.ref == 'refs/heads/main'\n    environment:\n      name: production\n      url: https://company.com\n    steps:\n    - name: Deploy to production cluster\n      uses: azure/k8s-deploy@v1\n      with:\n        manifests: |\n          k8s/production/deployment.yaml\n          k8s/production/service.yaml\n        images: ${{ needs.build.outputs.image }}\n        kubectl-version: 'v1.28.0'\n\n    - name: Run smoke tests\n      run: |\n        curl -f https://company.com/health || exit 1\n        curl -f https://company.com/api/health || exit 1\n\n    - name: Notify Slack\n      uses: 8398a7/action-slack@v3\n      with:\n        status: ${{ job.status }}\n        channel: '#deployments'\n        webhook_url: ${{ secrets.SLACK_WEBHOOK }}\n      if: always()\"\"\"\n        \n        elif complexity == 'medium':\n            return \"\"\"# Node.js CI/CD Pipeline\nname: Node.js CI\n\non:\n  push:\n    branches: [ main, develop ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    strategy:\n      matrix:\n        node-version: [16.x, 18.x]\n\n    steps:\n    - uses: actions/checkout@v4\n\n    - name: Use Node.js ${{ matrix.node-version }}\n      uses: actions/setup-node@v4\n      with:\n        node-version: ${{ matrix.node-version }}\n        cache: 'npm'\n\n    - name: Install dependencies\n      run: npm ci\n\n    - name: Run tests\n      run: npm test\n\n    - name: Build\n      run: npm run build\n\n  deploy:\n    needs: test\n    runs-on: ubuntu-latest\n    if: github.ref == 'refs/heads/main'\n    \n    steps:\n    - uses: actions/checkout@v4\n    \n    - name: Build and push Docker image\n      run: |\n        docker build -t ${{ github.repository }}:${{ github.sha }} .\n        docker push ${{ github.repository }}:${{ github.sha }}\"\"\"\n        \n        else:  # simple\n            return \"\"\"# Simple Node.js CI\nname: CI\n\non: [push, pull_request]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    \n    steps:\n    - uses: actions/checkout@v4\n    - uses: actions/setup-node@v4\n      with:\n        node-version: '18'\n        cache: 'npm'\n    \n    - run: npm ci\n    - run: npm test\n    - run: npm run build\"\"\"\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-PY-00225",
  "language": "python",
  "source_file": "/storage/emulated/0/Download/integrate ideas/Generators/devops_generator.py",
  "source_line": 0,
  "validation_status": "validated"
}