{
  "code": "extern \"C\" {\n\nvoid BLOCK-PY-00252_execute() {\n    def compare(\n    a,\n    b,\n    /,\n    *,\n    compare_attributes=False,\n):\n    \"\"\"Recursively compares two ASTs.\n\n    compare_attributes affects whether AST attributes are considered\n    in the comparison. If compare_attributes is False (default), then\n    attributes are ignored. Otherwise they must all be equal. This\n    option is useful to check whether the ASTs are structurally equal but\n    might differ in whitespace or similar details.\n    \"\"\"\n\n    sentinel = object()  # handle the possibility of a missing attribute/field\n\n    def _compare(a, b):\n        # Compare two fields on an AST object, which may themselves be\n        # AST objects, lists of AST objects, or primitive ASDL types\n        # like identifiers and constants.\n        if isinstance(a, AST):\n            return compare(\n                a,\n                b,\n                compare_attributes=compare_attributes,\n            )\n        elif isinstance(a, list):\n            # If a field is repeated, then both objects will represent\n            # the value as a list.\n            if len(a) != len(b):\n                return False\n            for a_item, b_item in zip(a, b):\n                if not _compare(a_item, b_item):\n                    return False\n            else:\n                return True\n        else:\n            return type(a) is type(b) and a == b\n\n    def _compare_fields(a, b):\n        if a._fields != b._fields:\n            return False\n        for field in a._fields:\n            a_field = getattr(a, field, sentinel)\n            b_field = getattr(b, field, sentinel)\n            if a_field is sentinel and b_field is sentinel:\n                # both nodes are missing a field at runtime\n                continue\n            if a_field is sentinel or b_field is sentinel:\n                # one of the node is missing a field\n                return False\n            if not _compare(a_field, b_field):\n                return False\n        else:\n            return True\n\n    def _compare_attributes(a, b):\n        if a._attributes != b._attributes:\n            return False\n        # Attributes are always ints.\n        for attr in a._attributes:\n            a_attr = getattr(a, attr, sentinel)\n            b_attr = getattr(b, attr, sentinel)\n            if a_attr is sentinel and b_attr is sentinel:\n                # both nodes are missing an attribute at runtime\n                continue\n            if a_attr != b_attr:\n                return False\n        else:\n            return True\n\n    if type(a) is not type(b):\n        return False\n    if not _compare_fields(a, b):\n        return False\n    if compare_attributes and not _compare_attributes(a, b):\n        return False\n    return True\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-PY-00252",
  "language": "python",
  "source_file": "/data/data/com.termux/files/usr/tmp/tmpf5_11x91.py",
  "source_line": 414,
  "validation_status": "validated"
}