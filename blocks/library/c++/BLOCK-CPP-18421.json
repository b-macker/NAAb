{
  "code": "#include \"clang/Frontend/DiagnosticRenderer.h\"\n\nusing namespace clang;\n\nextern \"C\" {\n\nvoid BLOCK-CPP-18421_execute() {\n    {\n\n/// Class to encapsulate the logic for formatting and printing a textual\n/// diagnostic message.\n///\n/// This class provides an interface for building and emitting a textual\n/// diagnostic, including all of the macro backtraces, caret diagnostics, FixIt\n/// Hints, and code snippets. In the presence of macros this involves\n/// a recursive process, synthesizing notes for each macro expansion.\n///\n/// The purpose of this class is to isolate the implementation of printing\n/// beautiful text diagnostics from any particular interfaces. The Clang\n/// DiagnosticClient is implemented through this class as is diagnostic\n/// printing coming out of libclang.\nclass TextDiagnostic : public DiagnosticRenderer {\n  raw_ostream &OS;\n\npublic:\n  TextDiagnostic(raw_ostream &OS,\n                 const LangOptions &LangOpts,\n                 DiagnosticOptions *DiagOpts);\n\n  ~TextDiagnostic() override;\n\n  /// Print the diagonstic level to a raw_ostream.\n  ///\n  /// This is a static helper that handles colorizing the level and formatting\n  /// it into an arbitrary output stream. This is used internally by the\n  /// TextDiagnostic emission code, but it can also be used directly by\n  /// consumers that don't have a source manager or other state that the full\n  /// TextDiagnostic logic requires.\n  static void printDiagnosticLevel(raw_ostream &OS,\n                                   DiagnosticsEngine::Level Level,\n                                   bool ShowColors);\n\n  /// Pretty-print a diagnostic message to a raw_ostream.\n  ///\n  /// This is a static helper to handle the line wrapping, colorizing, and\n  /// rendering of a diagnostic message to a particular ostream. It is\n  /// publicly visible so that clients which do not have sufficient state to\n  /// build a complete TextDiagnostic object can still get consistent\n  /// formatting of their diagnostic messages.\n  ///\n  /// \\param OS Where the message is printed\n  /// \\param IsSupplemental true if this is a continuation note diagnostic\n  /// \\param Message The text actually printed\n  /// \\param CurrentColumn The starting column of the first line, accounting\n  ///                      for any prefix.\n  /// \\param Columns The number of columns to use in line-wrapping, 0 disables\n  ///                all line-wrapping.\n  /// \\param ShowColors Enable colorizing of the message.\n  static void printDiagnosticMessage(raw_ostream &OS, bool IsSupplemental,\n                                     StringRef Message, unsigned CurrentColumn,\n                                     unsigned Columns, bool ShowColors);\n\nprotected:\n  void emitDiagnosticMessage(FullSourceLoc Loc, PresumedLoc PLoc,\n                             DiagnosticsEngine::Level Level, StringRef Message,\n                             ArrayRef<CharSourceRange> Ranges,\n                             DiagOrStoredDiag D) override;\n\n  void emitDiagnosticLoc(FullSourceLoc Loc, PresumedLoc PLoc,\n                         DiagnosticsEngine::Level Level,\n                         ArrayRef<CharSourceRange> Ranges) override;\n\n  void emitCodeContext(FullSourceLoc Loc, DiagnosticsEngine::Level Level,\n                       SmallVectorImpl<CharSourceRange> &Ranges,\n                       ArrayRef<FixItHint> Hints) override {\n    emitSnippetAndCaret(Loc, Level, Ranges, Hints);\n  }\n\n  void emitIncludeLocation(FullSourceLoc Loc, PresumedLoc PLoc) override;\n\n  void emitImportLocation(FullSourceLoc Loc, PresumedLoc PLoc,\n                          StringRef ModuleName) override;\n\n  void emitBuildingModuleLocation(FullSourceLoc Loc, PresumedLoc PLoc,\n                                  StringRef ModuleName) override;\n\nprivate:\n  void emitFilename(StringRef Filename, const SourceManager &SM);\n\n  void emitSnippetAndCaret(FullSourceLoc Loc, DiagnosticsEngine::Level Level,\n                           SmallVectorImpl<CharSourceRange> &Ranges,\n                           ArrayRef<FixItHint> Hints);\n\n  void emitSnippet(StringRef SourceLine, unsigned MaxLineNoDisplayWidth,\n                   unsigned LineNo);\n\n  void emitParseableFixits(ArrayRef<FixItHint> Hints, const SourceManager &SM);\n};\n\n}\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-CPP-18421",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/Frontend/TextDiagnostic.h",
  "source_line": 20,
  "validation_status": "validated"
}