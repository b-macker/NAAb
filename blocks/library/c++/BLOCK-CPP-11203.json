{
  "code": "{\npublic:\n  enum HowSpecified { NotSpecified, Constant, Arg, Invalid };\n\n  OptionalAmount(HowSpecified howSpecified,\n                 unsigned amount,\n                 const char *amountStart,\n                 unsigned amountLength,\n                 bool usesPositionalArg)\n  : start(amountStart), length(amountLength), hs(howSpecified), amt(amount),\n  UsesPositionalArg(usesPositionalArg), UsesDotPrefix(false) {}\n\n  OptionalAmount(bool valid = true)\n  : start(nullptr),length(0), hs(valid ? NotSpecified : Invalid), amt(0),\n  UsesPositionalArg(false), UsesDotPrefix(false) {}\n\n  explicit OptionalAmount(unsigned Amount)\n    : start(nullptr), length(0), hs(Constant), amt(Amount),\n    UsesPositionalArg(false), UsesDotPrefix(false) {}\n\n  bool isInvalid() const {\n    return hs == Invalid;\n  }\n\n  HowSpecified getHowSpecified() const { return hs; }\n  void setHowSpecified(HowSpecified h) { hs = h; }\n\n  bool hasDataArgument() const { return hs == Arg; }\n\n  unsigned getArgIndex() const {\n    assert(hasDataArgument());\n    return amt;\n  }\n\n  unsigned getConstantAmount() const {\n    assert(hs == Constant);\n    return amt;\n  }\n\n  const char *getStart() const {\n      // We include the . character if it is given.\n    return start - UsesDotPrefix;\n  }\n\n  unsigned getConstantLength() const {\n    assert(hs == Constant);\n    return length + UsesDotPrefix;\n  }\n\n  ArgType getArgType(ASTContext &Ctx) const;\n\n  void toString(raw_ostream &os) const;\n\n  bool usesPositionalArg() const { return (bool) UsesPositionalArg; }\n  unsigned getPositionalArgIndex() const {\n    assert(hasDataArgument());\n    return amt + 1;\n  }\n\n  bool usesDotPrefix() const { return UsesDotPrefix; }\n  void setUsesDotPrefix() { UsesDotPrefix = true; }\n\nprivate:\n  const char *start;\n  unsigned length;\n  HowSpecified hs;\n  unsigned amt;\n  bool UsesPositionalArg : 1;\n  bool UsesDotPrefix;\n}",
  "id": "BLOCK-CPP-11203",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/AST/FormatString.h",
  "source_line": 336,
  "validation_status": "validated"
}