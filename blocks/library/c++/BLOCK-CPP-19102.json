{
  "code": "{\n  public:\n    enum GMFState : int {\n      GMFActive = 1,\n      MaybeGMF = 0,\n      BeforeGMFIntroducer = -1,\n      GMFAbsentOrEnded = -2,\n    };\n\n    TrackGMF(GMFState S) : S(S) {}\n\n    /// Saw a semicolon.\n    void handleSemi() {\n      // If it is immediately after the first instance of the module keyword,\n      // then that introduces the GMF.\n      if (S == MaybeGMF)\n        S = GMFActive;\n    }\n\n    /// Saw an 'export' identifier.\n    void handleExport() {\n      // The presence of an 'export' keyword always ends or excludes a GMF.\n      S = GMFAbsentOrEnded;\n    }\n\n    /// Saw an 'import' identifier.\n    void handleImport(bool AfterTopLevelTokenSeq) {\n      // If we see this before any 'module' kw, then we have no GMF.\n      if (AfterTopLevelTokenSeq && S == BeforeGMFIntroducer)\n        S = GMFAbsentOrEnded;\n    }\n\n    /// Saw a 'module' identifier.\n    void handleModule(bool AfterTopLevelTokenSeq) {\n      // This was the first module identifier and not preceded by any token\n      // that would exclude a GMF.  It could begin a GMF, but only if directly\n      // followed by a semicolon.\n      if (AfterTopLevelTokenSeq && S == BeforeGMFIntroducer)\n        S = MaybeGMF;\n      else\n        S = GMFAbsentOrEnded;\n    }\n\n    /// Saw any other token.\n    void handleMisc() {\n      // We saw something other than ; after the 'module' kw, so not a GMF.\n      if (S == MaybeGMF)\n        S = GMFAbsentOrEnded;\n    }\n\n    bool inGMF() { return S == GMFActive; }\n\n  private:\n    /// Track the transitions into and out of a Global Module Fragment,\n    /// if one is present.\n    GMFState S;\n  }",
  "id": "BLOCK-CPP-19102",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/Lex/Preprocessor.h",
  "source_line": 397,
  "validation_status": "validated"
}