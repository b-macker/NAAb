{
  "code": "#include \"clang/AST/StmtVisitor.h\"\n#include \"llvm/Support/Regex.h\"\n#include <vector>\n\nusing namespace clang;\n\nextern \"C\" {\n\nvoid BLOCK-CPP-15636_execute() {\n    {\n\n  /// Describes an occurrence of a variable reference in a statement.\n  struct VariableOccurence {\n    /// The index of the associated VarDecl in the Variables vector.\n    size_t KindID;\n    /// The statement in the code where the variable was referenced.\n    const Stmt *Mention;\n\n    VariableOccurence(size_t KindID, const Stmt *Mention)\n        : KindID(KindID), Mention(Mention) {}\n  };\n\n  /// All occurrences of referenced variables in the order of appearance.\n  std::vector<VariableOccurence> Occurences;\n  /// List of referenced variables in the order of appearance.\n  /// Every item in this list is unique.\n  std::vector<const VarDecl *> Variables;\n\n  /// Adds a new variable referenced to this pattern.\n  /// \\param VarDecl The declaration of the variable that is referenced.\n  /// \\param Mention The SourceRange where this variable is referenced.\n  void addVariableOccurence(const VarDecl *VarDecl, const Stmt *Mention);\n\n  /// Adds each referenced variable from the given statement.\n  void addVariables(const Stmt *S);\n\npublic:\n  /// Creates an VariablePattern object with information about the given\n  /// StmtSequence.\n  VariablePattern(const StmtSequence &Sequence) {\n    for (const Stmt *S : Sequence)\n      addVariables(S);\n  }\n\n  /// Describes two clones that reference their variables in a different pattern\n  /// which could indicate a programming error.\n  struct SuspiciousClonePair {\n    /// Utility class holding the relevant information about a single\n    /// clone in this pair.\n    struct SuspiciousCloneInfo {\n      /// The variable which referencing in this clone was against the pattern.\n      const VarDecl *Variable;\n      /// Where the variable was referenced.\n      const Stmt *Mention;\n      /// The variable that should have been referenced to follow the pattern.\n      /// If Suggestion is a nullptr then it's not possible to fix the pattern\n      /// by referencing a different variable in this clone.\n      const VarDecl *Suggestion;\n      SuspiciousCloneInfo(const VarDecl *Variable, const Stmt *Mention,\n                          const VarDecl *Suggestion)\n          : Variable(Variable), Mention(Mention), Suggestion(Suggestion) {}\n      SuspiciousCloneInfo() {}\n    };\n    /// The first clone in the pair which always has a suggested variable.\n    SuspiciousCloneInfo FirstCloneInfo;\n    /// This other clone in the pair which can have a suggested variable.\n    SuspiciousCloneInfo SecondCloneInfo;\n  };\n\n  /// Counts the differences between this pattern and the given one.\n  /// \\param Other The given VariablePattern to compare with.\n  /// \\param FirstMismatch Output parameter that will be filled with information\n  ///        about the first difference between the two patterns. This parameter\n  ///        can be a nullptr, in which case it will be ignored.\n  /// \\return Returns the number of differences between the pattern this object\n  ///         is following and the given VariablePattern.\n  ///\n  /// For example, the following statements all have the same pattern and this\n  /// function would return zero:\n  ///\n  ///   if (a < b) return a; return b;\n  ///   if (x < y) return x; return y;\n  ///   if (u2 < u1) return u2; return u1;\n  ///\n  /// But the following statement has a different pattern (note the changed\n  /// variables in the return statements) and would have two differences when\n  /// compared with one of the statements above.\n  ///\n  ///   if (a < b) return b; return a;\n  ///\n  /// This function should only be called if the related statements of the given\n  /// pattern and the statements of this objects are clones of each other.\n  unsigned countPatternDifferences(\n      const VariablePattern &Other,\n      VariablePattern::SuspiciousClonePair *FirstMismatch = nullptr);\n}\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-CPP-15636",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/Analysis/CloneDetection.h",
  "source_line": 343,
  "validation_status": "validated"
}