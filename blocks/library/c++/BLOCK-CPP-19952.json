{
  "code": "{\n    friend class LookupResult;\n\n    LookupResult &Results;\n    LookupResult::iterator I;\n    bool Changed = false;\n    bool CalledDone = false;\n\n    Filter(LookupResult &Results) : Results(Results), I(Results.begin()) {}\n\n  public:\n    Filter(Filter &&F)\n        : Results(F.Results), I(F.I), Changed(F.Changed),\n          CalledDone(F.CalledDone) {\n      F.CalledDone = true;\n    }\n\n    // The move assignment operator is defined as deleted pending\n    // further motivation.\n    Filter &operator=(Filter &&) = delete;\n\n    // The copy constrcutor and copy assignment operator is defined as deleted\n    // pending further motivation.\n    Filter(const Filter &) = delete;\n    Filter &operator=(const Filter &) = delete;\n\n    ~Filter() {\n      assert(CalledDone &&\n             \"LookupResult::Filter destroyed without done() call\");\n    }\n\n    bool hasNext() const {\n      return I != Results.end();\n    }\n\n    NamedDecl *next() {\n      assert(I != Results.end() && \"next() called on empty filter\");\n      return *I++;\n    }\n\n    /// Restart the iteration.\n    void restart() {\n      I = Results.begin();\n    }\n\n    /// Erase the last element returned from this iterator.\n    void erase() {\n      Results.Decls.erase(--I);\n      Changed = true;\n    }\n\n    /// Replaces the current entry with the given one, preserving the\n    /// access bits.\n    void replace(NamedDecl *D) {\n      Results.Decls.replace(I-1, D);\n      Changed = true;\n    }\n\n    /// Replaces the current entry with the given one.\n    void replace(NamedDecl *D, AccessSpecifier AS) {\n      Results.Decls.replace(I-1, D, AS);\n      Changed = true;\n    }\n\n    void done() {\n      assert(!CalledDone && \"done() called twice\");\n      CalledDone = true;\n\n      if (Changed)\n        Results.resolveKindAfterFilter();\n    }\n  }",
  "id": "BLOCK-CPP-19952",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/Sema/Lookup.h",
  "source_line": 643,
  "validation_status": "validated"
}