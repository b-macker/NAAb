{
  "code": "{\n    /// Contains all the locations of so far unmatched lparens.\n    SmallVector<SourceLocation, 8> UnmatchedOpeningParens;\n\n    const IdentifierInfo *const Ident__VA_OPT__;\n\n\n  public:\n    VAOptDefinitionContext(Preprocessor &PP)\n        : Ident__VA_OPT__(PP.Ident__VA_OPT__) {}\n\n    bool isVAOptToken(const Token &T) const {\n      return Ident__VA_OPT__ && T.getIdentifierInfo() == Ident__VA_OPT__;\n    }\n\n    /// Returns true if we have seen the __VA_OPT__ and '(' but before having\n    /// seen the matching ')'.\n    bool isInVAOpt() const { return UnmatchedOpeningParens.size(); }\n\n    /// Call this function as soon as you see __VA_OPT__ and '('.\n    void sawVAOptFollowedByOpeningParens(const SourceLocation LParenLoc) {\n      assert(!isInVAOpt() && \"Must NOT be within VAOPT context to call this\");\n      UnmatchedOpeningParens.push_back(LParenLoc);\n\n    }\n\n    SourceLocation getUnmatchedOpeningParenLoc() const {\n      assert(isInVAOpt() && \"Must be within VAOPT context to call this\");\n      return UnmatchedOpeningParens.back();\n    }\n\n    /// Call this function each time an rparen is seen.  It returns true only if\n    /// the rparen that was just seen was the eventual (non-nested) closing\n    /// paren for VAOPT, and ejects us out of the VAOPT context.\n    bool sawClosingParen() {\n      assert(isInVAOpt() && \"Must be within VAOPT context to call this\");\n      UnmatchedOpeningParens.pop_back();\n      return !UnmatchedOpeningParens.size();\n    }\n\n    /// Call this function each time an lparen is seen.\n    void sawOpeningParen(SourceLocation LParenLoc) {\n      assert(isInVAOpt() && \"Must be within VAOPT context to call this\");\n      UnmatchedOpeningParens.push_back(LParenLoc);\n    }\n\n    /// Are we at the top level within the __VA_OPT__?\n    bool isAtTopLevel() const { return UnmatchedOpeningParens.size() == 1; }\n  }",
  "id": "BLOCK-CPP-19227",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/Lex/VariadicMacroSupport.h",
  "source_line": 66,
  "validation_status": "validated"
}