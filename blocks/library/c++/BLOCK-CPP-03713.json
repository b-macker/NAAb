{
  "code": "{\n// In MSVC we can't probe std::hash or stdext::hash because it triggers a\n// static_assert instead of failing substitution. Libc++ prior to 4.0\n// also used a static_assert.\n//\n#if defined(_MSC_VER) || (defined(_LIBCPP_VERSION) && \\\n                          _LIBCPP_VERSION < 4000 && _LIBCPP_STD_VER > 11)\n#define ABSL_META_INTERNAL_STD_HASH_SFINAE_FRIENDLY_ 0\n#else\n#define ABSL_META_INTERNAL_STD_HASH_SFINAE_FRIENDLY_ 1\n#endif\n\n#if !ABSL_META_INTERNAL_STD_HASH_SFINAE_FRIENDLY_\ntemplate <typename Key, typename = size_t>\nstruct IsHashable : std::true_type {};\n#else   // ABSL_META_INTERNAL_STD_HASH_SFINAE_FRIENDLY_\ntemplate <typename Key, typename = void>\nstruct IsHashable : std::false_type {};\n\ntemplate <typename Key>\nstruct IsHashable<\n    Key,\n    absl::enable_if_t<std::is_convertible<\n        decltype(std::declval<std::hash<Key>&>()(std::declval<Key const&>())),\n        std::size_t>::value>> : std::true_type {};\n#endif  // !ABSL_META_INTERNAL_STD_HASH_SFINAE_FRIENDLY_\n\nstruct AssertHashEnabledHelper {\n private:\n  static void Sink(...) {}\n  struct NAT {};\n\n  template <class Key>\n  static auto GetReturnType(int)\n      -> decltype(std::declval<std::hash<Key>>()(std::declval<Key const&>()));\n  template <class Key>\n  static NAT GetReturnType(...);\n\n  template <class Key>\n  static std::nullptr_t DoIt() {\n    static_assert(IsHashable<Key>::value,\n                  \"std::hash<Key> does not provide a call operator\");\n    static_assert(\n        std::is_default_constructible<std::hash<Key>>::value,\n        \"std::hash<Key> must be default constructible when it is enabled\");\n    static_assert(\n        std::is_copy_constructible<std::hash<Key>>::value,\n        \"std::hash<Key> must be copy constructible when it is enabled\");\n    static_assert(absl::is_copy_assignable<std::hash<Key>>::value,\n                  \"std::hash<Key> must be copy assignable when it is enabled\");\n    // is_destructible is unchecked as it's implied by each of the\n    // is_constructible checks.\n    using ReturnType = decltype(GetReturnType<Key>(0));\n    static_assert(std::is_same<ReturnType, NAT>::value ||\n                      std::is_same<ReturnType, size_t>::value,\n                  \"std::hash<Key> must return size_t\");\n    return nullptr;\n  }\n\n  template <class... Ts>\n  friend void AssertHashEnabled();\n};\n\ntemplate <class... Ts>\ninline void AssertHashEnabled() {\n  using Helper = AssertHashEnabledHelper;\n  Helper::Sink(Helper::DoIt<Ts>()...);\n}\n\n}",
  "id": "BLOCK-CPP-03713",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/abseil/absl/meta/type_traits.h",
  "source_line": 336,
  "validation_status": "validated"
}