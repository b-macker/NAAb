{
  "code": "#include \"clang/AST/ASTContextAllocate.h\"\n#include \"llvm/ADT/PointerIntPair.h\"\n#include <algorithm>\n#include <cassert>\n#include <cstddef>\n#include <cstring>\n#include <iterator>\n#include <memory>\n#include <type_traits>\n#include <utility>\n\nusing namespace clang;\n\nextern \"C\" {\n\nvoid BLOCK-CPP-23084_execute() {\n    {\n    // Convert iterator to elt# to avoid invalidating iterator when we reserve()\n    size_t InsertElt = I - this->begin();\n\n    if (I == this->end()) { // Important special case for empty vector.\n      append(C, From, To);\n      return this->begin() + InsertElt;\n    }\n\n    size_t NumToInsert = std::distance(From, To);\n\n    // Ensure there is enough space.\n    reserve(C, static_cast<unsigned>(this->size() + NumToInsert));\n\n    // Uninvalidate the iterator.\n    I = this->begin()+InsertElt;\n\n    // If there are more elements between the insertion point and the end of the\n    // range than there are being inserted, we can use a simple approach to\n    // insertion.  Since we already reserved space, we know that this won't\n    // reallocate the vector.\n    if (size_t(this->end()-I) >= NumToInsert) {\n      T *OldEnd = this->end();\n      append(C, this->end()-NumToInsert, this->end());\n\n      // Copy the existing elements that get replaced.\n      std::copy_backward(I, OldEnd-NumToInsert, OldEnd);\n\n      std::copy(From, To, I);\n      return I;\n    }\n\n    // Otherwise, we're inserting more elements than exist already, and we're\n    // not inserting at the end.\n\n    // Copy over the elements that we're about to overwrite.\n    T *OldEnd = this->end();\n    this->setEnd(this->end() + NumToInsert);\n    size_t NumOverwritten = OldEnd-I;\n    this->uninitialized_copy(I, OldEnd, this->end()-NumOverwritten);\n\n    // Replace the overwritten part.\n    for (; NumOverwritten > 0; --NumOverwritten) {\n      *I = *From;\n      ++I; ++From;\n    }\n\n    // Insert the non-overwritten middle part.\n    this->uninitialized_copy(From, To, OldEnd);\n    return I;\n  }\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-CPP-23084",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/AST/ASTVector.h",
  "source_line": 288,
  "validation_status": "validated"
}