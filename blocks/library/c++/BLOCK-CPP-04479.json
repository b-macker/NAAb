{
  "code": "{\n// We also provide these comparator adapter functions for internal absl use.\n\n// Helper functions to do a boolean comparison of two keys given a boolean\n// or three-way comparator.\n// SFINAE prevents implicit conversions to bool (such as from int).\ntemplate <typename BoolT,\n          absl::enable_if_t<std::is_same<bool, BoolT>::value, int> = 0>\nconstexpr bool compare_result_as_less_than(const BoolT r) { return r; }\nconstexpr bool compare_result_as_less_than(const absl::weak_ordering r) {\n  return r < 0;\n}\n\ntemplate <typename Compare, typename K, typename LK>\nconstexpr bool do_less_than_comparison(const Compare &compare, const K &x,\n                                       const LK &y) {\n  return compare_result_as_less_than(compare(x, y));\n}\n\n// Helper functions to do a three-way comparison of two keys given a boolean or\n// three-way comparator.\n// SFINAE prevents implicit conversions to int (such as from bool).\ntemplate <typename Int,\n          absl::enable_if_t<std::is_same<int, Int>::value, int> = 0>\nconstexpr absl::weak_ordering compare_result_as_ordering(const Int c) {\n  return c < 0 ? absl::weak_ordering::less\n               : c == 0 ? absl::weak_ordering::equivalent\n                        : absl::weak_ordering::greater;\n}\nconstexpr absl::weak_ordering compare_result_as_ordering(\n    const absl::weak_ordering c) {\n  return c;\n}\n\ntemplate <\n    typename Compare, typename K, typename LK,\n    absl::enable_if_t<!std::is_same<bool, absl::result_of_t<Compare(\n                                              const K &, const LK &)>>::value,\n                      int> = 0>\nconstexpr absl::weak_ordering do_three_way_comparison(const Compare &compare,\n                                                      const K &x, const LK &y) {\n  return compare_result_as_ordering(compare(x, y));\n}\ntemplate <\n    typename Compare, typename K, typename LK,\n    absl::enable_if_t<std::is_same<bool, absl::result_of_t<Compare(\n                                             const K &, const LK &)>>::value,\n                      int> = 0>\nconstexpr absl::weak_ordering do_three_way_comparison(const Compare &compare,\n                                                      const K &x, const LK &y) {\n  return compare(x, y) ? absl::weak_ordering::less\n                       : compare(y, x) ? absl::weak_ordering::greater\n                                       : absl::weak_ordering::equivalent;\n}\n\n}",
  "id": "BLOCK-CPP-04479",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/abseil/absl/types/compare.h",
  "source_line": 446,
  "validation_status": "validated"
}