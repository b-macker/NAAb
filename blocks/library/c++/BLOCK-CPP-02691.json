{
  "code": "{\n\n#define ABSL_LOGGING_INTERNAL_DEFINE_MAKE_CHECK_OP_STRING(x) \\\n  template std::string* MakeCheckOpString(x, x, const char*)\nABSL_LOGGING_INTERNAL_DEFINE_MAKE_CHECK_OP_STRING(bool);\nABSL_LOGGING_INTERNAL_DEFINE_MAKE_CHECK_OP_STRING(int64_t);\nABSL_LOGGING_INTERNAL_DEFINE_MAKE_CHECK_OP_STRING(uint64_t);\nABSL_LOGGING_INTERNAL_DEFINE_MAKE_CHECK_OP_STRING(float);\nABSL_LOGGING_INTERNAL_DEFINE_MAKE_CHECK_OP_STRING(double);\nABSL_LOGGING_INTERNAL_DEFINE_MAKE_CHECK_OP_STRING(char);\nABSL_LOGGING_INTERNAL_DEFINE_MAKE_CHECK_OP_STRING(unsigned char);\nABSL_LOGGING_INTERNAL_DEFINE_MAKE_CHECK_OP_STRING(const std::string&);\nABSL_LOGGING_INTERNAL_DEFINE_MAKE_CHECK_OP_STRING(const absl::string_view&);\nABSL_LOGGING_INTERNAL_DEFINE_MAKE_CHECK_OP_STRING(const char*);\nABSL_LOGGING_INTERNAL_DEFINE_MAKE_CHECK_OP_STRING(const signed char*);\nABSL_LOGGING_INTERNAL_DEFINE_MAKE_CHECK_OP_STRING(const unsigned char*);\nABSL_LOGGING_INTERNAL_DEFINE_MAKE_CHECK_OP_STRING(const void*);\n#undef ABSL_LOGGING_INTERNAL_DEFINE_MAKE_CHECK_OP_STRING\n\nCheckOpMessageBuilder::CheckOpMessageBuilder(const char* exprtext) {\n  stream_ << exprtext << \" (\";\n}\n\nstd::ostream& CheckOpMessageBuilder::ForVar2() {\n  stream_ << \" vs. \";\n  return stream_;\n}\n\nstd::string* CheckOpMessageBuilder::NewString() {\n  stream_ << \")\";\n  return new std::string(stream_.str());\n}\n\nvoid MakeCheckOpValueString(std::ostream& os, const char v) {\n  if (v >= 32 && v <= 126) {\n    os << \"'\" << v << \"'\";\n  } else {\n    os << \"char value \" << int{v};\n  }\n}\n\nvoid MakeCheckOpValueString(std::ostream& os, const signed char v) {\n  if (v >= 32 && v <= 126) {\n    os << \"'\" << v << \"'\";\n  } else {\n    os << \"signed char value \" << int{v};\n  }\n}\n\nvoid MakeCheckOpValueString(std::ostream& os, const unsigned char v) {\n  if (v >= 32 && v <= 126) {\n    os << \"'\" << v << \"'\";\n  } else {\n    os << \"unsigned char value \" << int{v};\n  }\n}\n\nvoid MakeCheckOpValueString(std::ostream& os, const void* p) {\n  if (p == nullptr) {\n    os << \"(null)\";\n  } else {\n    os << p;\n  }\n}\n\n// Helper functions for string comparisons.\n#define DEFINE_CHECK_STROP_IMPL(name, func, expected)                      \\\n  std::string* Check##func##expected##Impl(const char* s1, const char* s2, \\\n                                           const char* exprtext) {         \\\n    bool equal = s1 == s2 || (s1 && s2 && !func(s1, s2));                  \\\n    if (equal == expected) {                                               \\\n      return nullptr;                                                      \\\n    } else {                                                               \\\n      return new std::string(                                              \\\n          absl::StrCat(exprtext, \" (\", s1, \" vs. \", s2, \")\"));             \\\n    }                                                                      \\\n  }\nDEFINE_CHECK_STROP_IMPL(CHECK_STREQ, strcmp, true)\nDEFINE_CHECK_STROP_IMPL(CHECK_STRNE, strcmp, false)\nDEFINE_CHECK_STROP_IMPL(CHECK_STRCASEEQ, strcasecmp, true)\nDEFINE_CHECK_STROP_IMPL(CHECK_STRCASENE, strcasecmp, false)\n#undef DEFINE_CHECK_STROP_IMPL\n\n}",
  "id": "BLOCK-CPP-02691",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/abseil/absl/log/internal/check_op.cc",
  "source_line": 33,
  "validation_status": "validated"
}