{
  "code": "#include <spdlog/logger.h>\n\nusing namespace spdlog;\n\nextern \"C\" {\n\nvoid BLOCK-CPP-00010_execute() {\n    {\n\n// Async overflow policy - block by default.\nenum class async_overflow_policy {\n    block,           // Block until message can be enqueued\n    overrun_oldest,  // Discard oldest message in the queue if full when trying to\n                     // add new item.\n    discard_new      // Discard new message if the queue is full when trying to add new item.\n};\n\nnamespace details {\nclass thread_pool;\n}\n\nclass SPDLOG_API async_logger final : public std::enable_shared_from_this<async_logger>,\n                                      public logger {\n    friend class details::thread_pool;\n\npublic:\n    template <typename It>\n    async_logger(std::string logger_name,\n                 It begin,\n                 It end,\n                 std::weak_ptr<details::thread_pool> tp,\n                 async_overflow_policy overflow_policy = async_overflow_policy::block)\n        : logger(std::move(logger_name), begin, end),\n          thread_pool_(std::move(tp)),\n          overflow_policy_(overflow_policy) {}\n\n    async_logger(std::string logger_name,\n                 sinks_init_list sinks_list,\n                 std::weak_ptr<details::thread_pool> tp,\n                 async_overflow_policy overflow_policy = async_overflow_policy::block);\n\n    async_logger(std::string logger_name,\n                 sink_ptr single_sink,\n                 std::weak_ptr<details::thread_pool> tp,\n                 async_overflow_policy overflow_policy = async_overflow_policy::block);\n\n    std::shared_ptr<logger> clone(std::string new_name) override;\n\nprotected:\n    void sink_it_(const details::log_msg &msg) override;\n    void flush_() override;\n    void backend_sink_it_(const details::log_msg &incoming_log_msg);\n    void backend_flush_();\n\nprivate:\n    std::weak_ptr<details::thread_pool> thread_pool_;\n    async_overflow_policy overflow_policy_;\n};\n}\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-CPP-00010",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/spdlog/include/spdlog/async_logger.h",
  "source_line": 19,
  "validation_status": "validated"
}