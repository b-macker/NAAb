{
  "code": "#include \"clang/AST/Decl.h\"\n#include \"clang/AST/DeclObjC.h\"\n#include \"clang/AST/RawCommentList.h\"\n#include \"clang/Basic/SourceLocation.h\"\n#include \"clang/ExtractAPI/AvailabilityInfo.h\"\n#include \"clang/ExtractAPI/DeclarationFragments.h\"\n#include \"llvm/ADT/MapVector.h\"\n#include \"llvm/ADT/StringRef.h\"\n#include \"llvm/Support/Allocator.h\"\n#include \"llvm/Support/Casting.h\"\n#include \"llvm/TargetParser/Triple.h\"\n#include <memory>\n#include <type_traits>\n\nusing namespace clang;\nusing namespace extractapi;\n\nextern \"C\" {\n\nvoid BLOCK-CPP-17993_execute() {\n    {\npublic:\n  /// Create and add a global variable record into the API set.\n  ///\n  /// Note: the caller is responsible for keeping the StringRef \\p Name and\n  /// \\p USR alive. APISet::copyString provides a way to copy strings into\n  /// APISet itself, and APISet::recordUSR(const Decl *D) is a helper method\n  /// to generate the USR for \\c D and keep it alive in APISet.\n  GlobalVariableRecord *\n  addGlobalVar(StringRef Name, StringRef USR, PresumedLoc Loc,\n               AvailabilitySet Availability, LinkageInfo Linkage,\n               const DocComment &Comment, DeclarationFragments Declaration,\n               DeclarationFragments SubHeadin, bool IsFromSystemHeaderg);\n\n  /// Create and add a function record into the API set.\n  ///\n  /// Note: the caller is responsible for keeping the StringRef \\p Name and\n  /// \\p USR alive. APISet::copyString provides a way to copy strings into\n  /// APISet itself, and APISet::recordUSR(const Decl *D) is a helper method\n  /// to generate the USR for \\c D and keep it alive in APISet.\n  GlobalFunctionRecord *\n  addGlobalFunction(StringRef Name, StringRef USR, PresumedLoc Loc,\n                    AvailabilitySet Availability, LinkageInfo Linkage,\n                    const DocComment &Comment, DeclarationFragments Declaration,\n                    DeclarationFragments SubHeading,\n                    FunctionSignature Signature, bool IsFromSystemHeader);\n\n  /// Create and add an enum constant record into the API set.\n  ///\n  /// Note: the caller is responsible for keeping the StringRef \\p Name and\n  /// \\p USR alive. APISet::copyString provides a way to copy strings into\n  /// APISet itself, and APISet::recordUSR(const Decl *D) is a helper method\n  /// to generate the USR for \\c D and keep it alive in APISet.\n  EnumConstantRecord *\n  addEnumConstant(EnumRecord *Enum, StringRef Name, StringRef USR,\n                  PresumedLoc Loc, AvailabilitySet Availability,\n                  const DocComment &Comment, DeclarationFragments Declaration,\n                  DeclarationFragments SubHeading, bool IsFromSystemHeader);\n\n  /// Create and add an enum record into the API set.\n  ///\n  /// Note: the caller is responsible for keeping the StringRef \\p Name and\n  /// \\p USR alive. APISet::copyString provides a way to copy strings into\n  /// APISet itself, and APISet::recordUSR(const Decl *D) is a helper method\n  /// to generate the USR for \\c D and keep it alive in APISet.\n  EnumRecord *addEnum(StringRef Name, StringRef USR, PresumedLoc Loc,\n                      AvailabilitySet Availability, const DocComment &Comment,\n                      DeclarationFragments Declaration,\n                      DeclarationFragments SubHeading, bool IsFromSystemHeader);\n\n  /// Create and add a struct field record into the API set.\n  ///\n  /// Note: the caller is responsible for keeping the StringRef \\p Name and\n  /// \\p USR alive. APISet::copyString provides a way to copy strings into\n  /// APISet itself, and APISet::recordUSR(const Decl *D) is a helper method\n  /// to generate the USR for \\c D and keep it alive in APISet.\n  StructFieldRecord *\n  addStructField(StructRecord *Struct, StringRef Name, StringRef USR,\n                 PresumedLoc Loc, AvailabilitySet Availability,\n                 const DocComment &Comment, DeclarationFragments Declaration,\n                 DeclarationFragments SubHeading, bool IsFromSystemHeader);\n\n  /// Create and add a struct record into the API set.\n  ///\n  /// Note: the caller is responsible for keeping the StringRef \\p Name and\n  /// \\p USR alive. APISet::copyString provides a way to copy strings into\n  /// APISet itself, and APISet::recordUSR(const Decl *D) is a helper method\n  /// to generate the USR for \\c D and keep it alive in APISet.\n  StructRecord *addStruct(StringRef Name, StringRef USR, PresumedLoc Loc,\n                          AvailabilitySet Availability,\n                          const DocComment &Comment,\n                          DeclarationFragments Declaration,\n                          DeclarationFragments SubHeading,\n                          bool IsFromSystemHeader);\n\n  /// Create and add an Objective-C category record into the API set.\n  ///\n  /// Note: the caller is responsible for keeping the StringRef \\p Name and\n  /// \\p USR alive. APISet::copyString provides a way to copy strings into\n  /// APISet itself, and APISet::recordUSR(const Decl *D) is a helper method\n  /// to generate the USR for \\c D and keep it alive in APISet.\n  ObjCCategoryRecord *\n  addObjCCategory(StringRef Name, StringRef USR, PresumedLoc Loc,\n                  AvailabilitySet Availability, const DocComment &Comment,\n                  DeclarationFragments Declaration,\n                  DeclarationFragments SubHeading, SymbolReference Interface,\n                  bool IsFromSystemHeader);\n\n  /// Create and add an Objective-C interface record into the API set.\n  ///\n  /// Note: the caller is responsible for keeping the StringRef \\p Name and\n  /// \\p USR alive. APISet::copyString provides a way to copy strings into\n  /// APISet itself, and APISet::recordUSR(const Decl *D) is a helper method\n  /// to generate the USR for \\c D and keep it alive in APISet.\n  ObjCInterfaceRecord *\n  addObjCInterface(StringRef Name, StringRef USR, PresumedLoc Loc,\n                   AvailabilitySet Availability, LinkageInfo Linkage,\n                   const DocComment &Comment, DeclarationFragments Declaration,\n                   DeclarationFragments SubHeading, SymbolReference SuperClass,\n                   bool IsFromSystemHeader);\n\n  /// Create and add an Objective-C method record into the API set.\n  ///\n  /// Note: the caller is responsible for keeping the StringRef \\p Name and\n  /// \\p USR alive. APISet::copyString provides a way to copy strings into\n  /// APISet itself, and APISet::recordUSR(const Decl *D) is a helper method\n  /// to generate the USR for \\c D and keep it alive in APISet.\n  ObjCMethodRecord *\n  addObjCMethod(ObjCContainerRecord *Container, StringRef Name, StringRef USR,\n                PresumedLoc Loc, AvailabilitySet Availability,\n                const DocComment &Comment, DeclarationFragments Declaration,\n                DeclarationFragments SubHeading, FunctionSignature Signature,\n                bool IsInstanceMethod, bool IsFromSystemHeader);\n\n  /// Create and add an Objective-C property record into the API set.\n  ///\n  /// Note: the caller is responsible for keeping the StringRef \\p Name and\n  /// \\p USR alive. APISet::copyString provides a way to copy strings into\n  /// APISet itself, and APISet::recordUSR(const Decl *D) is a helper method\n  /// to generate the USR for \\c D and keep it alive in APISet.\n  ObjCPropertyRecord *\n  addObjCProperty(ObjCContainerRecord *Container, StringRef Name, StringRef USR,\n                  PresumedLoc Loc, AvailabilitySet Availability,\n                  const DocComment &Comment, DeclarationFragments Declaration,\n                  DeclarationFragments SubHeading,\n                  ObjCPropertyRecord::AttributeKind Attributes,\n                  StringRef GetterName, StringRef SetterName, bool IsOptional,\n                  bool IsInstanceProperty, bool IsFromSystemHeader);\n\n  /// Create and add an Objective-C instance variable record into the API set.\n  ///\n  /// Note: the caller is responsible for keeping the StringRef \\p Name and\n  /// \\p USR alive. APISet::copyString provides a way to copy strings into\n  /// APISet itself, and APISet::recordUSR(const Decl *D) is a helper method\n  /// to generate the USR for \\c D and keep it alive in APISet.\n  ObjCInstanceVariableRecord *addObjCInstanceVariable(\n      ObjCContainerRecord *Container, StringRef Name, StringRef USR,\n      PresumedLoc Loc, AvailabilitySet Availability, const DocComment &Comment,\n      DeclarationFragments Declaration, DeclarationFragments SubHeading,\n      ObjCInstanceVariableRecord::AccessControl Access,\n      bool IsFromSystemHeader);\n\n  /// Create and add an Objective-C protocol record into the API set.\n  ///\n  /// Note: the caller is responsible for keeping the StringRef \\p Name and\n  /// \\p USR alive. APISet::copyString provides a way to copy strings into\n  /// APISet itself, and APISet::recordUSR(const Decl *D) is a helper method\n  /// to generate the USR for \\c D and keep it alive in APISet.\n  ObjCProtocolRecord *\n  addObjCProtocol(StringRef Name, StringRef USR, PresumedLoc Loc,\n                  AvailabilitySet Availability, const DocComment &Comment,\n                  DeclarationFragments Declaration,\n                  DeclarationFragments SubHeading, bool IsFromSystemHeader);\n\n  /// Create a macro definition record into the API set.\n  ///\n  /// Note: the caller is responsible for keeping the StringRef \\p Name and\n  /// \\p USR alive. APISet::copyString provides a way to copy strings into\n  /// APISet itself, and APISet::recordUSRForMacro(StringRef Name,\n  /// SourceLocation SL, const SourceManager &SM) is a helper method to generate\n  /// the USR for the macro and keep it alive in APISet.\n  MacroDefinitionRecord *addMacroDefinition(StringRef Name, StringRef USR,\n                                            PresumedLoc Loc,\n                                            DeclarationFragments Declaration,\n                                            DeclarationFragments SubHeading,\n                                            bool IsFromSystemHeader);\n\n  /// Create a typedef record into the API set.\n  ///\n  /// Note: the caller is responsible for keeping the StringRef \\p Name and\n  /// \\p USR alive. APISet::copyString provides a way to copy strings into\n  /// APISet itself, and APISet::recordUSR(const Decl *D) is a helper method\n  /// to generate the USR for \\c D and keep it alive in APISet.\n  TypedefRecord *\n  addTypedef(StringRef Name, StringRef USR, PresumedLoc Loc,\n             AvailabilitySet Availability, const DocComment &Comment,\n             DeclarationFragments Declaration, DeclarationFragments SubHeading,\n             SymbolReference UnderlyingType, bool IsFromSystemHeader);\n\n  /// A mapping type to store a set of APIRecord%s with the USR as the key.\n  template <typename RecordTy,\n            typename =\n                std::enable_if_t<std::is_base_of<APIRecord, RecordTy>::value>>\n  using RecordMap = llvm::MapVector<StringRef, std::unique_ptr<RecordTy>>;\n\n  /// Get the target triple for the ExtractAPI invocation.\n  const llvm::Triple &getTarget() const { return Target; }\n\n  /// Get the language used by the APIs.\n  Language getLanguage() const { return Lang; }\n\n  const RecordMap<GlobalFunctionRecord> &getGlobalFunctions() const {\n    return GlobalFunctions;\n  }\n  const RecordMap<GlobalVariableRecord> &getGlobalVariables() const {\n    return GlobalVariables;\n  }\n  const RecordMap<EnumRecord> &getEnums() const { return Enums; }\n  const RecordMap<StructRecord> &getStructs() const { return Structs; }\n  const RecordMap<ObjCCategoryRecord> &getObjCCategories() const {\n    return ObjCCategories;\n  }\n  const RecordMap<ObjCInterfaceRecord> &getObjCInterfaces() const {\n    return ObjCInterfaces;\n  }\n  const RecordMap<ObjCProtocolRecord> &getObjCProtocols() const {\n    return ObjCProtocols;\n  }\n  const RecordMap<MacroDefinitionRecord> &getMacros() const { return Macros; }\n  const RecordMap<TypedefRecord> &getTypedefs() const { return Typedefs; }\n\n  /// Finds the APIRecord for a given USR.\n  ///\n  /// \\returns a pointer to the APIRecord associated with that USR or nullptr.\n  APIRecord *findRecordForUSR(StringRef USR) const;\n\n  /// Generate and store the USR of declaration \\p D.\n  ///\n  /// Note: The USR string is stored in and owned by Allocator.\n  ///\n  /// \\returns a StringRef of the generated USR string.\n  StringRef recordUSR(const Decl *D);\n\n  /// Generate and store the USR for a macro \\p Name.\n  ///\n  /// Note: The USR string is stored in and owned by Allocator.\n  ///\n  /// \\returns a StringRef to the generate USR string.\n  StringRef recordUSRForMacro(StringRef Name, SourceLocation SL,\n                              const SourceManager &SM);\n\n  /// Copy \\p String into the Allocator in this APISet.\n  ///\n  /// \\returns a StringRef of the copied string in APISet::Allocator.\n  StringRef copyString(StringRef String);\n\n  APISet(const llvm::Triple &Target, Language Lang,\n         const std::string &ProductName)\n      : Target(Target), Lang(Lang), ProductName(ProductName) {}\n\nprivate:\n  /// BumpPtrAllocator to store generated/copied strings.\n  ///\n  /// Note: The main use for this is being able to deduplicate strings.\n  llvm::BumpPtrAllocator StringAllocator;\n\n  const llvm::Triple Target;\n  const Language Lang;\n\n  llvm::DenseMap<StringRef, APIRecord *> USRBasedLookupTable;\n  RecordMap<GlobalFunctionRecord> GlobalFunctions;\n  RecordMap<GlobalVariableRecord> GlobalVariables;\n  RecordMap<EnumRecord> Enums;\n  RecordMap<StructRecord> Structs;\n  RecordMap<ObjCCategoryRecord> ObjCCategories;\n  RecordMap<ObjCInterfaceRecord> ObjCInterfaces;\n  RecordMap<ObjCProtocolRecord> ObjCProtocols;\n  RecordMap<MacroDefinitionRecord> Macros;\n  RecordMap<TypedefRecord> Typedefs;\n\npublic:\n  const std::string ProductName;\n}\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-CPP-17993",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/ExtractAPI/API.h",
  "source_line": 596,
  "validation_status": "validated"
}