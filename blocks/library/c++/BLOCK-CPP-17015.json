{
  "code": "#include <cstddef>\n#include \"llvm/ADT/STLExtras.h\"\n#include \"llvm/Support/Compiler.h\"\n\nusing namespace clang;\n\nextern \"C\" {\n\nvoid BLOCK-CPP-17015_execute() {\n    {\n  /// The amount of stack space that Clang would like to be provided with.\n  /// If less than this much is available, we may be unable to reach our\n  /// template instantiation depth limit and other similar limits.\n  constexpr size_t DesiredStackSize = 8 << 20;\n\n  /// Call this once on each thread, as soon after starting the thread as\n  /// feasible, to note the approximate address of the bottom of the stack.\n  void noteBottomOfStack();\n\n  /// Determine whether the stack is nearly exhausted.\n  bool isStackNearlyExhausted();\n\n  void runWithSufficientStackSpaceSlow(llvm::function_ref<void()> Diag,\n                                       llvm::function_ref<void()> Fn);\n\n  /// Run a given function on a stack with \"sufficient\" space. If stack space\n  /// is insufficient, calls Diag to emit a diagnostic before calling Fn.\n  inline void runWithSufficientStackSpace(llvm::function_ref<void()> Diag,\n                                          llvm::function_ref<void()> Fn) {\n#if LLVM_ENABLE_THREADS\n    if (LLVM_UNLIKELY(isStackNearlyExhausted()))\n      runWithSufficientStackSpaceSlow(Diag, Fn);\n    else\n      Fn();\n#else\n    if (LLVM_UNLIKELY(isStackNearlyExhausted()))\n      Diag();\n    Fn();\n#endif\n  }\n}\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-CPP-17015",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/Basic/Stack.h",
  "source_line": 22,
  "validation_status": "validated"
}