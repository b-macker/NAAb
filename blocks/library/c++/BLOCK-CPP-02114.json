{
  "code": "#include \"absl/synchronization/notification.h\"\n#include <atomic>\n#include \"absl/base/internal/raw_logging.h\"\n#include \"absl/synchronization/mutex.h\"\n#include \"absl/time/time.h\"\n\nusing namespace absl;\n\nextern \"C\" {\n\nvoid BLOCK-CPP-02114_execute() {\n    {\nABSL_NAMESPACE_BEGIN\n\nvoid Notification::Notify() {\n  MutexLock l(&this->mutex_);\n\n#ifndef NDEBUG\n  if (ABSL_PREDICT_FALSE(notified_yet_.load(std::memory_order_relaxed))) {\n    ABSL_RAW_LOG(\n        FATAL,\n        \"Notify() method called more than once for Notification object %p\",\n        static_cast<void *>(this));\n  }\n#endif\n\n  notified_yet_.store(true, std::memory_order_release);\n}\n\nNotification::~Notification() {\n  // Make sure that the thread running Notify() exits before the object is\n  // destructed.\n  MutexLock l(&this->mutex_);\n}\n\nvoid Notification::WaitForNotification() const {\n  if (!HasBeenNotifiedInternal(&this->notified_yet_)) {\n    this->mutex_.LockWhen(Condition(&HasBeenNotifiedInternal,\n                                    &this->notified_yet_));\n    this->mutex_.Unlock();\n  }\n}\n\nbool Notification::WaitForNotificationWithTimeout(\n    absl::Duration timeout) const {\n  bool notified = HasBeenNotifiedInternal(&this->notified_yet_);\n  if (!notified) {\n    notified = this->mutex_.LockWhenWithTimeout(\n        Condition(&HasBeenNotifiedInternal, &this->notified_yet_), timeout);\n    this->mutex_.Unlock();\n  }\n  return notified;\n}\n\nbool Notification::WaitForNotificationWithDeadline(absl::Time deadline) const {\n  bool notified = HasBeenNotifiedInternal(&this->notified_yet_);\n  if (!notified) {\n    notified = this->mutex_.LockWhenWithDeadline(\n        Condition(&HasBeenNotifiedInternal, &this->notified_yet_), deadline);\n    this->mutex_.Unlock();\n  }\n  return notified;\n}\n\nABSL_NAMESPACE_END\n}\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-CPP-02114",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/abseil/absl/synchronization/notification.cc",
  "source_line": 23,
  "validation_status": "validated"
}