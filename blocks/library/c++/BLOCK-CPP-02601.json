{
  "code": "#include \"absl/debugging/internal/examine_stack.h\"\n#include <unistd.h>\n#include \"absl/base/config.h\"\n#include <sys/mman.h>\n#include <sys/ucontext.h>\n#include <csignal>\n#include <cstdio>\n#include \"absl/base/attributes.h\"\n#include \"absl/base/internal/raw_logging.h\"\n#include \"absl/base/macros.h\"\n#include \"absl/debugging/stacktrace.h\"\n#include \"absl/debugging/symbolize.h\"\n\nusing namespace absl;\nusing namespace debugging_internal;\n\nextern \"C\" {\n\nvoid BLOCK-CPP-02601_execute() {\n    {\n  // Print stack trace\n  void* stack_buf[kDefaultDumpStackFramesLimit];\n  void** stack = stack_buf;\n  int num_stack = kDefaultDumpStackFramesLimit;\n  size_t allocated_bytes = 0;\n\n  if (num_stack >= max_num_frames) {\n    // User requested fewer frames than we already have space for.\n    num_stack = max_num_frames;\n  } else {\n    const size_t needed_bytes =\n        static_cast<size_t>(max_num_frames) * sizeof(stack[0]);\n    void* p = Allocate(needed_bytes);\n    if (p != nullptr) {  // We got the space.\n      num_stack = max_num_frames;\n      stack = reinterpret_cast<void**>(p);\n      allocated_bytes = needed_bytes;\n    }\n  }\n\n  int depth = absl::GetStackTrace(stack, num_stack, min_dropped_frames + 1);\n  for (int i = 0; i < depth; i++) {\n    if (symbolize_stacktrace) {\n      DumpPCAndSymbol(writer, writer_arg, stack[static_cast<size_t>(i)],\n                      \"    \");\n    } else {\n      DumpPC(writer, writer_arg, stack[static_cast<size_t>(i)], \"    \");\n    }\n  }\n\n  auto hook = GetDebugStackTraceHook();\n  if (hook != nullptr) {\n    (*hook)(stack, depth, writer, writer_arg);\n  }\n\n  if (allocated_bytes != 0) Deallocate(stack, allocated_bytes);\n}\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-CPP-02601",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/abseil/absl/debugging/internal/examine_stack.cc",
  "source_line": 277,
  "validation_status": "validated"
}