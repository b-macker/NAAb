{
  "code": "{\n\ntemplate <class Key, class Value>\nclass NodeHashMapPolicy\n    : public absl::container_internal::node_slot_policy<\n          std::pair<const Key, Value>&, NodeHashMapPolicy<Key, Value>> {\n  using value_type = std::pair<const Key, Value>;\n\n public:\n  using key_type = Key;\n  using mapped_type = Value;\n  using init_type = std::pair</*non const*/ key_type, mapped_type>;\n\n  template <class Allocator, class... Args>\n  static value_type* new_element(Allocator* alloc, Args&&... args) {\n    using PairAlloc = typename absl::allocator_traits<\n        Allocator>::template rebind_alloc<value_type>;\n    PairAlloc pair_alloc(*alloc);\n    value_type* res =\n        absl::allocator_traits<PairAlloc>::allocate(pair_alloc, 1);\n    absl::allocator_traits<PairAlloc>::construct(pair_alloc, res,\n                                                 std::forward<Args>(args)...);\n    return res;\n  }\n\n  template <class Allocator>\n  static void delete_element(Allocator* alloc, value_type* pair) {\n    using PairAlloc = typename absl::allocator_traits<\n        Allocator>::template rebind_alloc<value_type>;\n    PairAlloc pair_alloc(*alloc);\n    absl::allocator_traits<PairAlloc>::destroy(pair_alloc, pair);\n    absl::allocator_traits<PairAlloc>::deallocate(pair_alloc, pair, 1);\n  }\n\n  template <class F, class... Args>\n  static decltype(absl::container_internal::DecomposePair(\n      std::declval<F>(), std::declval<Args>()...))\n  apply(F&& f, Args&&... args) {\n    return absl::container_internal::DecomposePair(std::forward<F>(f),\n                                                   std::forward<Args>(args)...);\n  }\n\n  static size_t element_space_used(const value_type*) {\n    return sizeof(value_type);\n  }\n\n  static Value& value(value_type* elem) { return elem->second; }\n  static const Value& value(const value_type* elem) { return elem->second; }\n};\n}",
  "id": "BLOCK-CPP-03556",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/abseil/absl/container/node_hash_map.h",
  "source_line": 545,
  "validation_status": "validated"
}