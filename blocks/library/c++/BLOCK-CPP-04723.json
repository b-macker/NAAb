{
  "code": "#include <stdint.h>\n#include <atomic>\n#include \"absl/base/internal/scheduling_mode.h\"\n\nusing namespace absl;\nusing namespace base_internal;\n\nextern \"C\" {\n\nvoid BLOCK-CPP-04723_execute() {\n    {\n\n// SpinLockWait() waits until it can perform one of several transitions from\n// \"from\" to \"to\".  It returns when it performs a transition where done==true.\nstruct SpinLockWaitTransition {\n  uint32_t from;\n  uint32_t to;\n  bool done;\n};\n\n// Wait until *w can transition from trans[i].from to trans[i].to for some i\n// satisfying 0<=i<n && trans[i].done, atomically make the transition,\n// then return the old value of *w.   Make any other atomic transitions\n// where !trans[i].done, but continue waiting.\n//\n// Wakeups for threads blocked on SpinLockWait do not respect priorities.\nuint32_t SpinLockWait(std::atomic<uint32_t> *w, int n,\n                      const SpinLockWaitTransition trans[],\n                      SchedulingMode scheduling_mode);\n\n// If possible, wake some thread that has called SpinLockDelay(w, ...). If `all`\n// is true, wake all such threads. On some systems, this may be a no-op; on\n// those systems, threads calling SpinLockDelay() will always wake eventually\n// even if SpinLockWake() is never called.\nvoid SpinLockWake(std::atomic<uint32_t> *w, bool all);\n\n// Wait for an appropriate spin delay on iteration \"loop\" of a\n// spin loop on location *w, whose previously observed value was \"value\".\n// SpinLockDelay() may do nothing, may yield the CPU, may sleep a clock tick,\n// or may wait for a call to SpinLockWake(w).\nvoid SpinLockDelay(std::atomic<uint32_t> *w, uint32_t value, int loop,\n                   base_internal::SchedulingMode scheduling_mode);\n\n// Helper used by AbslInternalSpinLockDelay.\n// Returns a suggested delay in nanoseconds for iteration number \"loop\".\nint SpinLockSuggestedDelayNS(int loop);\n\n}\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-CPP-04723",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/abseil/absl/base/internal/spinlock_wait.h",
  "source_line": 28,
  "validation_status": "validated"
}