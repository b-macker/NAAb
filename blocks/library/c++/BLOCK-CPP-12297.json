{
  "code": "{\n  /// Private constructor accesible only by ASTContext.\n  OMPTraitInfo() {}\n  friend class ASTContext;\n\npublic:\n  /// Reconstruct a (partial) OMPTraitInfo object from a mangled name.\n  OMPTraitInfo(StringRef MangledName);\n\n  /// The outermost level of selector sets.\n  llvm::SmallVector<OMPTraitSet, 2> Sets;\n\n  bool anyScoreOrCondition(\n      llvm::function_ref<bool(Expr *&, bool /* IsScore */)> Cond) {\n    return llvm::any_of(Sets, [&](OMPTraitSet &Set) {\n      return llvm::any_of(\n          Set.Selectors, [&](OMPTraitSelector &Selector) {\n            return Cond(Selector.ScoreOrCondition,\n                        /* IsScore */ Selector.Kind !=\n                            llvm::omp::TraitSelector::user_condition);\n          });\n    });\n  }\n\n  /// Create a variant match info object from this trait info object. While the\n  /// former is a flat representation the actual main difference is that the\n  /// latter uses clang::Expr to store the score/condition while the former is\n  /// independent of clang. Thus, expressions and conditions are evaluated in\n  /// this method.\n  void getAsVariantMatchInfo(ASTContext &ASTCtx,\n                             llvm::omp::VariantMatchInfo &VMI) const;\n\n  /// Return a string representation identifying this context selector.\n  std::string getMangledName() const;\n\n  /// Check the extension trait \\p TP is active.\n  bool isExtensionActive(llvm::omp::TraitProperty TP) {\n    for (const OMPTraitSet &Set : Sets) {\n      if (Set.Kind != llvm::omp::TraitSet::implementation)\n        continue;\n      for (const OMPTraitSelector &Selector : Set.Selectors) {\n        if (Selector.Kind != llvm::omp::TraitSelector::implementation_extension)\n          continue;\n        for (const OMPTraitProperty &Property : Selector.Properties) {\n          if (Property.Kind == TP)\n            return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  /// Print a human readable representation into \\p OS.\n  void print(llvm::raw_ostream &OS, const PrintingPolicy &Policy) const;\n}",
  "id": "BLOCK-CPP-12297",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/AST/OpenMPClause.h",
  "source_line": 8789,
  "validation_status": "validated"
}