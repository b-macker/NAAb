{
  "code": "#include \"clang/AST/ASTContext.h\"\n#include \"clang/AST/Decl.h\"\n#include \"clang/AST/DeclBase.h\"\n#include \"clang/AST/DeclCXX.h\"\n#include \"clang/AST/DeclarationName.h\"\n#include \"llvm/ADT/DenseMap.h\"\n#include \"llvm/ADT/PointerIntPair.h\"\n#include \"llvm/ADT/PointerUnion.h\"\n#include <cassert>\n\nusing namespace clang;\n\nextern \"C\" {\n\nvoid BLOCK-CPP-08741_execute() {\n    {\n    const bool IsKnownNewer = true;\n\n    if (isNull()) {\n      Data.setPointer(D);\n      return;\n    }\n\n    // Most decls only have one entry in their list, special case it.\n    if (NamedDecl *OldD = getAsDecl()) {\n      if (D->declarationReplaces(OldD, IsKnownNewer)) {\n        Data.setPointer(D);\n        return;\n      }\n\n      // Add D after OldD.\n      ASTContext &C = D->getASTContext();\n      DeclListNode *Node = C.AllocateDeclListNode(OldD);\n      Node->Rest = D;\n      Data.setPointer(Node);\n      return;\n    }\n\n    // FIXME: Move the assert before the single decl case when we fix the\n    // duplication coming from the ASTReader reading builtin types.\n    assert(!llvm::is_contained(getLookupResult(), D) && \"Already exists!\");\n    // Determine if this declaration is actually a redeclaration.\n    for (DeclListNode *N = getAsList(); /*return in loop*/;\n         N = N->Rest.dyn_cast<DeclListNode *>()) {\n      if (D->declarationReplaces(N->D, IsKnownNewer)) {\n        N->D = D;\n        return;\n      }\n      if (auto *ND = N->Rest.dyn_cast<NamedDecl *>()) {\n        if (D->declarationReplaces(ND, IsKnownNewer)) {\n          N->Rest = D;\n          return;\n        }\n\n        // Add D after ND.\n        ASTContext &C = D->getASTContext();\n        DeclListNode *Node = C.AllocateDeclListNode(ND);\n        N->Rest = Node;\n        Node->Rest = D;\n        return;\n      }\n    }\n  }\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-CPP-08741",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/AST/DeclContextInternals.h",
  "source_line": 215,
  "validation_status": "validated"
}