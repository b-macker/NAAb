{
  "code": "{\n  const DelayedDiagnosticPool *Parent;\n  SmallVector<DelayedDiagnostic, 4> Diagnostics;\n\npublic:\n  DelayedDiagnosticPool(const DelayedDiagnosticPool *parent) : Parent(parent) {}\n\n  DelayedDiagnosticPool(const DelayedDiagnosticPool &) = delete;\n  DelayedDiagnosticPool &operator=(const DelayedDiagnosticPool &) = delete;\n\n  DelayedDiagnosticPool(DelayedDiagnosticPool &&Other)\n      : Parent(Other.Parent), Diagnostics(std::move(Other.Diagnostics)) {\n    Other.Diagnostics.clear();\n  }\n\n  DelayedDiagnosticPool &operator=(DelayedDiagnosticPool &&Other) {\n    Parent = Other.Parent;\n    Diagnostics = std::move(Other.Diagnostics);\n    Other.Diagnostics.clear();\n    return *this;\n  }\n\n  ~DelayedDiagnosticPool() {\n    for (SmallVectorImpl<DelayedDiagnostic>::iterator\n           i = Diagnostics.begin(), e = Diagnostics.end(); i != e; ++i)\n      i->Destroy();\n  }\n\n  const DelayedDiagnosticPool *getParent() const { return Parent; }\n\n  /// Does this pool, or any of its ancestors, contain any diagnostics?\n  bool empty() const {\n    return (Diagnostics.empty() && (!Parent || Parent->empty()));\n  }\n\n  /// Add a diagnostic to this pool.\n  void add(const DelayedDiagnostic &diag) {\n    Diagnostics.push_back(diag);\n  }\n\n  /// Steal the diagnostics from the given pool.\n  void steal(DelayedDiagnosticPool &pool) {\n    if (pool.Diagnostics.empty()) return;\n\n    if (Diagnostics.empty()) {\n      Diagnostics = std::move(pool.Diagnostics);\n    } else {\n      Diagnostics.append(pool.pool_begin(), pool.pool_end());\n    }\n    pool.Diagnostics.clear();\n  }\n\n  using pool_iterator = SmallVectorImpl<DelayedDiagnostic>::const_iterator;\n\n  pool_iterator pool_begin() const { return Diagnostics.begin(); }\n  pool_iterator pool_end() const { return Diagnostics.end(); }\n  bool pool_empty() const { return Diagnostics.empty(); }\n}",
  "id": "BLOCK-CPP-19757",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/Sema/DelayedDiagnostic.h",
  "source_line": 263,
  "validation_status": "validated"
}