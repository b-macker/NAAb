{
  "code": "{\n    PostOrderCFGView::CFGBlockSet VisitedBlocks(CFGraph);\n\n    V.enterCFG(CFGraph, getDecl(), &CFGraph->getEntry());\n\n    for (const auto *CurrBlock : *SortedGraph) {\n      VisitedBlocks.insert(CurrBlock);\n\n      V.enterCFGBlock(CurrBlock);\n\n      // Process predecessors, handling back edges last\n      if (V.visitPredecessors()) {\n        SmallVector<CFGBlock*, 4> BackEdges;\n        // Process successors\n        for (CFGBlock::const_pred_iterator SI = CurrBlock->pred_begin(),\n                                           SE = CurrBlock->pred_end();\n             SI != SE; ++SI) {\n          if (*SI == nullptr)\n            continue;\n\n          if (!VisitedBlocks.alreadySet(*SI)) {\n            BackEdges.push_back(*SI);\n            continue;\n          }\n          V.handlePredecessor(*SI);\n        }\n\n        for (auto *Blk : BackEdges)\n          V.handlePredecessorBackEdge(Blk);\n      }\n\n      V.enterCFGBlockBody(CurrBlock);\n\n      // Process statements\n      for (const auto &BI : *CurrBlock) {\n        switch (BI.getKind()) {\n        case CFGElement::Statement:\n          V.handleStatement(BI.castAs<CFGStmt>().getStmt());\n          break;\n\n        case CFGElement::AutomaticObjectDtor: {\n          CFGAutomaticObjDtor AD = BI.castAs<CFGAutomaticObjDtor>();\n          auto *DD = const_cast<CXXDestructorDecl *>(\n              AD.getDestructorDecl(ACtx->getASTContext()));\n          auto *VD = const_cast<VarDecl *>(AD.getVarDecl());\n          V.handleDestructorCall(VD, DD);\n          break;\n        }\n        default:\n          break;\n        }\n      }\n\n      V.exitCFGBlockBody(CurrBlock);\n\n      // Process successors, handling back edges first.\n      if (V.visitSuccessors()) {\n        SmallVector<CFGBlock*, 8> ForwardEdges;\n\n        // Process successors\n        for (CFGBlock::const_succ_iterator SI = CurrBlock->succ_begin(),\n                                           SE = CurrBlock->succ_end();\n             SI != SE; ++SI) {\n          if (*SI == nullptr)\n            continue;\n\n          if (!VisitedBlocks.alreadySet(*SI)) {\n            ForwardEdges.push_back(*SI);\n            continue;\n          }\n          V.handleSuccessorBackEdge(*SI);\n        }\n\n        for (auto *Blk : ForwardEdges)\n          V.handleSuccessor(Blk);\n      }\n\n      V.exitCFGBlock(CurrBlock);\n    }\n    V.exitCFG(&CFGraph->getExit());\n  }",
  "id": "BLOCK-CPP-21440",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/Analysis/Analyses/ThreadSafetyCommon.h",
  "source_line": 171,
  "validation_status": "validated"
}