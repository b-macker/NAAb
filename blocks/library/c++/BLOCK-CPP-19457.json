{
  "code": "{\npublic:\n  enum Kind {\n    /// An unspecified code-completion context.\n    CCC_Other,\n\n    /// An unspecified code-completion context where we should also add\n    /// macro completions.\n    CCC_OtherWithMacros,\n\n    /// Code completion occurred within a \"top-level\" completion context,\n    /// e.g., at namespace or global scope.\n    CCC_TopLevel,\n\n    /// Code completion occurred within an Objective-C interface,\n    /// protocol, or category interface.\n    CCC_ObjCInterface,\n\n    /// Code completion occurred within an Objective-C implementation\n    /// or category implementation.\n    CCC_ObjCImplementation,\n\n    /// Code completion occurred within the instance variable list of\n    /// an Objective-C interface, implementation, or category implementation.\n    CCC_ObjCIvarList,\n\n    /// Code completion occurred within a class, struct, or union.\n    CCC_ClassStructUnion,\n\n    /// Code completion occurred where a statement (or declaration) is\n    /// expected in a function, method, or block.\n    CCC_Statement,\n\n    /// Code completion occurred where an expression is expected.\n    CCC_Expression,\n\n    /// Code completion occurred where an Objective-C message receiver\n    /// is expected.\n    CCC_ObjCMessageReceiver,\n\n    /// Code completion occurred on the right-hand side of a member\n    /// access expression using the dot operator.\n    ///\n    /// The results of this completion are the members of the type being\n    /// accessed. The type itself is available via\n    /// \\c CodeCompletionContext::getType().\n    CCC_DotMemberAccess,\n\n    /// Code completion occurred on the right-hand side of a member\n    /// access expression using the arrow operator.\n    ///\n    /// The results of this completion are the members of the type being\n    /// accessed. The type itself is available via\n    /// \\c CodeCompletionContext::getType().\n    CCC_ArrowMemberAccess,\n\n    /// Code completion occurred on the right-hand side of an Objective-C\n    /// property access expression.\n    ///\n    /// The results of this completion are the members of the type being\n    /// accessed. The type itself is available via\n    /// \\c CodeCompletionContext::getType().\n    CCC_ObjCPropertyAccess,\n\n    /// Code completion occurred after the \"enum\" keyword, to indicate\n    /// an enumeration name.\n    CCC_EnumTag,\n\n    /// Code completion occurred after the \"union\" keyword, to indicate\n    /// a union name.\n    CCC_UnionTag,\n\n    /// Code completion occurred after the \"struct\" or \"class\" keyword,\n    /// to indicate a struct or class name.\n    CCC_ClassOrStructTag,\n\n    /// Code completion occurred where a protocol name is expected.\n    CCC_ObjCProtocolName,\n\n    /// Code completion occurred where a namespace or namespace alias\n    /// is expected.\n    CCC_Namespace,\n\n    /// Code completion occurred where a type name is expected.\n    CCC_Type,\n\n    /// Code completion occurred where a new name is expected.\n    CCC_NewName,\n\n    /// Code completion occurred where both a new name and an existing symbol is\n    /// permissible.\n    CCC_SymbolOrNewName,\n\n    /// Code completion occurred where an existing name(such as type, function\n    /// or variable) is expected.\n    CCC_Symbol,\n\n    /// Code completion occurred where an macro is being defined.\n    CCC_MacroName,\n\n    /// Code completion occurred where a macro name is expected\n    /// (without any arguments, in the case of a function-like macro).\n    CCC_MacroNameUse,\n\n    /// Code completion occurred within a preprocessor expression.\n    CCC_PreprocessorExpression,\n\n    /// Code completion occurred where a preprocessor directive is\n    /// expected.\n    CCC_PreprocessorDirective,\n\n    /// Code completion occurred in a context where natural language is\n    /// expected, e.g., a comment or string literal.\n    ///\n    /// This context usually implies that no completions should be added,\n    /// unless they come from an appropriate natural-language dictionary.\n    CCC_NaturalLanguage,\n\n    /// Code completion for a selector, as in an \\@selector expression.\n    CCC_SelectorName,\n\n    /// Code completion within a type-qualifier list.\n    CCC_TypeQualifiers,\n\n    /// Code completion in a parenthesized expression, which means that\n    /// we may also have types here in C and Objective-C (as well as in C++).\n    CCC_ParenthesizedExpression,\n\n    /// Code completion where an Objective-C instance message is\n    /// expected.\n    CCC_ObjCInstanceMessage,\n\n    /// Code completion where an Objective-C class message is expected.\n    CCC_ObjCClassMessage,\n\n    /// Code completion where the name of an Objective-C class is\n    /// expected.\n    CCC_ObjCInterfaceName,\n\n    /// Code completion where an Objective-C category name is expected.\n    CCC_ObjCCategoryName,\n\n    /// Code completion inside the filename part of a #include directive.\n    CCC_IncludedFile,\n\n    /// Code completion of an attribute name.\n    CCC_Attribute,\n\n    /// An unknown context, in which we are recovering from a parsing\n    /// error and don't know which completions we should give.\n    CCC_Recovery,\n\n    /// Code completion in a @class forward declaration.\n    CCC_ObjCClassForwardDecl\n  };\n\n  using VisitedContextSet = llvm::SmallPtrSet<DeclContext *, 8>;\n\nprivate:\n  Kind CCKind;\n\n  /// Indicates whether we are completing a name of a using declaration, e.g.\n  ///     using ^;\n  ///     using a::^;\n  bool IsUsingDeclaration;\n\n  /// The type that would prefer to see at this point (e.g., the type\n  /// of an initializer or function parameter).\n  QualType PreferredType;\n\n  /// The type of the base object in a member access expression.\n  QualType BaseType;\n\n  /// The identifiers for Objective-C selector parts.\n  ArrayRef<IdentifierInfo *> SelIdents;\n\n  /// The scope specifier that comes before the completion token e.g.\n  /// \"a::b::\"\n  std::optional<CXXScopeSpec> ScopeSpecifier;\n\n  /// A set of declaration contexts visited by Sema when doing lookup for\n  /// code completion.\n  VisitedContextSet VisitedContexts;\n\npublic:\n  /// Construct a new code-completion context of the given kind.\n  CodeCompletionContext(Kind CCKind)\n      : CCKind(CCKind), IsUsingDeclaration(false), SelIdents(std::nullopt) {}\n\n  /// Construct a new code-completion context of the given kind.\n  CodeCompletionContext(Kind CCKind, QualType T,\n                        ArrayRef<IdentifierInfo *> SelIdents = std::nullopt)\n      : CCKind(CCKind), IsUsingDeclaration(false), SelIdents(SelIdents) {\n    if (CCKind == CCC_DotMemberAccess || CCKind == CCC_ArrowMemberAccess ||\n        CCKind == CCC_ObjCPropertyAccess || CCKind == CCC_ObjCClassMessage ||\n        CCKind == CCC_ObjCInstanceMessage)\n      BaseType = T;\n    else\n      PreferredType = T;\n  }\n\n  bool isUsingDeclaration() const { return IsUsingDeclaration; }\n  void setIsUsingDeclaration(bool V) { IsUsingDeclaration = V; }\n\n  /// Retrieve the kind of code-completion context.\n  Kind getKind() const { return CCKind; }\n\n  /// Retrieve the type that this expression would prefer to have, e.g.,\n  /// if the expression is a variable initializer or a function argument, the\n  /// type of the corresponding variable or function parameter.\n  QualType getPreferredType() const { return PreferredType; }\n  void setPreferredType(QualType T) { PreferredType = T; }\n\n  /// Retrieve the type of the base object in a member-access\n  /// expression.\n  QualType getBaseType() const { return BaseType; }\n\n  /// Retrieve the Objective-C selector identifiers.\n  ArrayRef<IdentifierInfo *> getSelIdents() const { return SelIdents; }\n\n  /// Determines whether we want C++ constructors as results within this\n  /// context.\n  bool wantConstructorResults() const;\n\n  /// Sets the scope specifier that comes before the completion token.\n  /// This is expected to be set in code completions on qualfied specifiers\n  /// (e.g. \"a::b::\").\n  void setCXXScopeSpecifier(CXXScopeSpec SS) {\n    this->ScopeSpecifier = std::move(SS);\n  }\n\n  /// Adds a visited context.\n  void addVisitedContext(DeclContext *Ctx) {\n    VisitedContexts.insert(Ctx);\n  }\n\n  /// Retrieves all visited contexts.\n  const VisitedContextSet &getVisitedContexts() const {\n    return VisitedContexts;\n  }\n\n  std::optional<const CXXScopeSpec *> getCXXScopeSpecifier() {\n    if (ScopeSpecifier)\n      return &*ScopeSpecifier;\n    return std::nullopt;\n  }\n}",
  "id": "BLOCK-CPP-19457",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/Sema/CodeCompleteConsumer.h",
  "source_line": 186,
  "validation_status": "validated"
}