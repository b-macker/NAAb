{
  "code": "#include \"clang/Basic/Diagnostic.h\"\n#include <memory>\n\nusing namespace clang;\n\nextern \"C\" {\n\nvoid BLOCK-CPP-18221_execute() {\n    {\n  virtual void anchor();\n  std::unique_ptr<DiagnosticConsumer> OwningPrimary;\n  DiagnosticConsumer *Primary;\n  std::unique_ptr<DiagnosticConsumer> Secondary;\n\npublic:\n  ChainedDiagnosticConsumer(std::unique_ptr<DiagnosticConsumer> Primary,\n                            std::unique_ptr<DiagnosticConsumer> Secondary)\n      : OwningPrimary(std::move(Primary)), Primary(OwningPrimary.get()),\n        Secondary(std::move(Secondary)) {}\n\n  /// Construct without taking ownership of \\c Primary.\n  ChainedDiagnosticConsumer(DiagnosticConsumer *Primary,\n                            std::unique_ptr<DiagnosticConsumer> Secondary)\n      : Primary(Primary), Secondary(std::move(Secondary)) {}\n\n  void BeginSourceFile(const LangOptions &LO,\n                       const Preprocessor *PP) override {\n    Primary->BeginSourceFile(LO, PP);\n    Secondary->BeginSourceFile(LO, PP);\n  }\n\n  void EndSourceFile() override {\n    Secondary->EndSourceFile();\n    Primary->EndSourceFile();\n  }\n\n  void finish() override {\n    Secondary->finish();\n    Primary->finish();\n  }\n\n  bool IncludeInDiagnosticCounts() const override {\n    return Primary->IncludeInDiagnosticCounts();\n  }\n\n  void HandleDiagnostic(DiagnosticsEngine::Level DiagLevel,\n                        const Diagnostic &Info) override {\n    // Default implementation (Warnings/errors count).\n    DiagnosticConsumer::HandleDiagnostic(DiagLevel, Info);\n\n    Primary->HandleDiagnostic(DiagLevel, Info);\n    Secondary->HandleDiagnostic(DiagLevel, Info);\n  }\n}\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-CPP-18221",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/Frontend/ChainedDiagnosticConsumer.h",
  "source_line": 22,
  "validation_status": "validated"
}