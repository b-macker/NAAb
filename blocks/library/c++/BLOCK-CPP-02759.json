{
  "code": "#include \"absl/log/internal/vlog_config.h\"\n#include <stddef.h>\n#include <algorithm>\n#include <atomic>\n#include <functional>\n#include <memory>\n#include <string>\n#include <utility>\n#include <vector>\n#include \"absl/base/attributes.h\"\n#include \"absl/base/config.h\"\n#include \"absl/base/const_init.h\"\n#include \"absl/base/internal/spinlock.h\"\n#include \"absl/base/no_destructor.h\"\n#include \"absl/base/optimization.h\"\n#include \"absl/base/thread_annotations.h\"\n#include \"absl/log/internal/fnmatch.h\"\n#include \"absl/memory/memory.h\"\n#include \"absl/strings/numbers.h\"\n#include \"absl/strings/str_split.h\"\n#include \"absl/strings/string_view.h\"\n#include \"absl/strings/strip.h\"\n#include \"absl/synchronization/mutex.h\"\n#include \"absl/types/optional.h\"\n\nusing namespace absl;\nusing namespace log_internal;\n\nextern \"C\" {\n\nvoid BLOCK-CPP-02759_execute() {\n    {\n  // `infos` is null during a call to `VLOG` prior to setting `vmodule` (e.g. by\n  // parsing flags).  We can't allocate in `VLOG`, so we treat null as empty\n  // here and press on.\n  if (!infos || infos->empty()) return current_global_v;\n  // Get basename for file\n  absl::string_view basename = file;\n  {\n    const size_t sep = basename.rfind('/');\n    if (sep != basename.npos) {\n      basename.remove_prefix(sep + 1);\n#ifdef _WIN32\n    } else {\n      const size_t sep = basename.rfind('\\\\');\n      if (sep != basename.npos) basename.remove_prefix(sep + 1);\n#endif\n    }\n  }\n\n  absl::string_view stem = file, stem_basename = basename;\n  {\n    const size_t sep = stem_basename.find('.');\n    if (sep != stem_basename.npos) {\n      stem.remove_suffix(stem_basename.size() - sep);\n      stem_basename.remove_suffix(stem_basename.size() - sep);\n    }\n    if (absl::ConsumeSuffix(&stem_basename, \"-inl\")) {\n      stem.remove_suffix(absl::string_view(\"-inl\").size());\n    }\n  }\n  for (const auto& info : *infos) {\n    if (info.module_is_path) {\n      // If there are any slashes in the pattern, try to match the full\n      // name.\n      if (FNMatch(info.module_pattern, stem)) {\n        return info.vlog_level == kUseFlag ? current_global_v : info.vlog_level;\n      }\n    } else if (FNMatch(info.module_pattern, stem_basename)) {\n      return info.vlog_level == kUseFlag ? current_global_v : info.vlog_level;\n    }\n  }\n\n  return current_global_v;\n}\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-CPP-02759",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/abseil/absl/log/internal/vlog_config.cc",
  "source_line": 126,
  "validation_status": "validated"
}