{
  "code": "#include \"dist_sink.h\"\n#include <spdlog/details/log_msg.h>\n#include <spdlog/details/null_mutex.h>\n#include <chrono>\n#include <cstdio>\n#include <mutex>\n#include <string>\n//     #include <spdlog/sinks/dup_filter_sink.h>\n\nusing namespace spdlog;\nusing namespace sinks;\n\nextern \"C\" {\n\nvoid BLOCK-CPP-00401_execute() {\n    {\n            char buf[64];\n            auto msg_size = ::snprintf(buf, sizeof(buf), \"Skipped %u duplicate messages..\",\n                                       static_cast<unsigned>(skip_counter_));\n            if (msg_size > 0 && static_cast<size_t>(msg_size) < sizeof(buf)) {\n                details::log_msg skipped_msg{msg.source, msg.logger_name, log_level_,\n                                             string_view_t{buf, static_cast<size_t>(msg_size)}};\n                dist_sink<Mutex>::sink_it_(skipped_msg);\n            }\n        }\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-CPP-00401",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/spdlog/include/spdlog/sinks/dup_filter_sink.h",
  "source_line": 62,
  "validation_status": "validated"
}