{
  "code": "#include \"clang/Basic/IdentifierTable.h\"\n#include \"llvm/ADT/ArrayRef.h\"\n#include <optional>\n\nusing namespace clang;\n\nextern \"C\" {\n\nvoid BLOCK-CPP-11312_execute() {\n    {\n  class ASTContext;\n  class ObjCInterfaceDecl;\n  class QualType;\n  class Expr;\n\n// Provides info and caches identifiers/selectors for NSFoundation API.\nclass NSAPI {\npublic:\n  explicit NSAPI(ASTContext &Ctx);\n\n  ASTContext &getASTContext() const { return Ctx; }\n\n  enum NSClassIdKindKind {\n    ClassId_NSObject,\n    ClassId_NSString,\n    ClassId_NSArray,\n    ClassId_NSMutableArray,\n    ClassId_NSDictionary,\n    ClassId_NSMutableDictionary,\n    ClassId_NSNumber,\n    ClassId_NSMutableSet,\n    ClassId_NSMutableOrderedSet,\n    ClassId_NSValue\n  };\n  static const unsigned NumClassIds = 10;\n\n  enum NSStringMethodKind {\n    NSStr_stringWithString,\n    NSStr_stringWithUTF8String,\n    NSStr_stringWithCStringEncoding,\n    NSStr_stringWithCString,\n    NSStr_initWithString,\n    NSStr_initWithUTF8String\n  };\n  static const unsigned NumNSStringMethods = 6;\n\n  IdentifierInfo *getNSClassId(NSClassIdKindKind K) const;\n\n  /// The Objective-C NSString selectors.\n  Selector getNSStringSelector(NSStringMethodKind MK) const;\n\n  /// Returns true if the expression \\param E is a reference of\n  /// \"NSUTF8StringEncoding\" enum constant.\n  bool isNSUTF8StringEncodingConstant(const Expr *E) const {\n    return isObjCEnumerator(E, \"NSUTF8StringEncoding\", NSUTF8StringEncodingId);\n  }\n\n  /// Returns true if the expression \\param E is a reference of\n  /// \"NSASCIIStringEncoding\" enum constant.\n  bool isNSASCIIStringEncodingConstant(const Expr *E) const {\n    return isObjCEnumerator(E, \"NSASCIIStringEncoding\",NSASCIIStringEncodingId);\n  }\n\n  /// Enumerates the NSArray/NSMutableArray methods used to generate\n  /// literals and to apply some checks.\n  enum NSArrayMethodKind {\n    NSArr_array,\n    NSArr_arrayWithArray,\n    NSArr_arrayWithObject,\n    NSArr_arrayWithObjects,\n    NSArr_arrayWithObjectsCount,\n    NSArr_initWithArray,\n    NSArr_initWithObjects,\n    NSArr_objectAtIndex,\n    NSMutableArr_replaceObjectAtIndex,\n    NSMutableArr_addObject,\n    NSMutableArr_insertObjectAtIndex,\n    NSMutableArr_setObjectAtIndexedSubscript\n  };\n  static const unsigned NumNSArrayMethods = 12;\n\n  /// The Objective-C NSArray selectors.\n  Selector getNSArraySelector(NSArrayMethodKind MK) const;\n\n  /// Return NSArrayMethodKind if \\p Sel is such a selector.\n  std::optional<NSArrayMethodKind> getNSArrayMethodKind(Selector Sel);\n\n  /// Enumerates the NSDictionary/NSMutableDictionary methods used\n  /// to generate literals and to apply some checks.\n  enum NSDictionaryMethodKind {\n    NSDict_dictionary,\n    NSDict_dictionaryWithDictionary,\n    NSDict_dictionaryWithObjectForKey,\n    NSDict_dictionaryWithObjectsForKeys,\n    NSDict_dictionaryWithObjectsForKeysCount,\n    NSDict_dictionaryWithObjectsAndKeys,\n    NSDict_initWithDictionary,\n    NSDict_initWithObjectsAndKeys,\n    NSDict_initWithObjectsForKeys,\n    NSDict_objectForKey,\n    NSMutableDict_setObjectForKey,\n    NSMutableDict_setObjectForKeyedSubscript,\n    NSMutableDict_setValueForKey\n  };\n  static const unsigned NumNSDictionaryMethods = 13;\n\n  /// The Objective-C NSDictionary selectors.\n  Selector getNSDictionarySelector(NSDictionaryMethodKind MK) const;\n\n  /// Return NSDictionaryMethodKind if \\p Sel is such a selector.\n  std::optional<NSDictionaryMethodKind> getNSDictionaryMethodKind(Selector Sel);\n\n  /// Enumerates the NSMutableSet/NSOrderedSet methods used\n  /// to apply some checks.\n  enum NSSetMethodKind {\n    NSMutableSet_addObject,\n    NSOrderedSet_insertObjectAtIndex,\n    NSOrderedSet_setObjectAtIndex,\n    NSOrderedSet_setObjectAtIndexedSubscript,\n    NSOrderedSet_replaceObjectAtIndexWithObject\n  };\n  static const unsigned NumNSSetMethods = 5;\n\n  /// The Objective-C NSSet selectors.\n  Selector getNSSetSelector(NSSetMethodKind MK) const;\n\n  /// Return NSSetMethodKind if \\p Sel is such a selector.\n  std::optional<NSSetMethodKind> getNSSetMethodKind(Selector Sel);\n\n  /// Returns selector for \"objectForKeyedSubscript:\".\n  Selector getObjectForKeyedSubscriptSelector() const {\n    return getOrInitSelector(StringRef(\"objectForKeyedSubscript\"),\n                             objectForKeyedSubscriptSel);\n  }\n\n  /// Returns selector for \"objectAtIndexedSubscript:\".\n  Selector getObjectAtIndexedSubscriptSelector() const {\n    return getOrInitSelector(StringRef(\"objectAtIndexedSubscript\"),\n                             objectAtIndexedSubscriptSel);\n  }\n\n  /// Returns selector for \"setObject:forKeyedSubscript\".\n  Selector getSetObjectForKeyedSubscriptSelector() const {\n    StringRef Ids[] = { \"setObject\", \"forKeyedSubscript\" };\n    return getOrInitSelector(Ids, setObjectForKeyedSubscriptSel);\n  }\n\n  /// Returns selector for \"setObject:atIndexedSubscript\".\n  Selector getSetObjectAtIndexedSubscriptSelector() const {\n    StringRef Ids[] = { \"setObject\", \"atIndexedSubscript\" };\n    return getOrInitSelector(Ids, setObjectAtIndexedSubscriptSel);\n  }\n\n  /// Returns selector for \"isEqual:\".\n  Selector getIsEqualSelector() const {\n    return getOrInitSelector(StringRef(\"isEqual\"), isEqualSel);\n  }\n\n  Selector getNewSelector() const {\n    return getOrInitNullarySelector(\"new\", NewSel);\n  }\n\n  Selector getInitSelector() const {\n    return getOrInitNullarySelector(\"init\", InitSel);\n  }\n\n  /// Enumerates the NSNumber methods used to generate literals.\n  enum NSNumberLiteralMethodKind {\n    NSNumberWithChar,\n    NSNumberWithUnsignedChar,\n    NSNumberWithShort,\n    NSNumberWithUnsignedShort,\n    NSNumberWithInt,\n    NSNumberWithUnsignedInt,\n    NSNumberWithLong,\n    NSNumberWithUnsignedLong,\n    NSNumberWithLongLong,\n    NSNumberWithUnsignedLongLong,\n    NSNumberWithFloat,\n    NSNumberWithDouble,\n    NSNumberWithBool,\n    NSNumberWithInteger,\n    NSNumberWithUnsignedInteger\n  };\n  static const unsigned NumNSNumberLiteralMethods = 15;\n\n  /// The Objective-C NSNumber selectors used to create NSNumber literals.\n  /// \\param Instance if true it will return the selector for the init* method\n  /// otherwise it will return the selector for the number* method.\n  Selector getNSNumberLiteralSelector(NSNumberLiteralMethodKind MK,\n                                      bool Instance) const;\n\n  bool isNSNumberLiteralSelector(NSNumberLiteralMethodKind MK,\n                                 Selector Sel) const {\n    return Sel == getNSNumberLiteralSelector(MK, false) ||\n           Sel == getNSNumberLiteralSelector(MK, true);\n  }\n\n  /// Return NSNumberLiteralMethodKind if \\p Sel is such a selector.\n  std::optional<NSNumberLiteralMethodKind>\n  getNSNumberLiteralMethodKind(Selector Sel) const;\n\n  /// Determine the appropriate NSNumber factory method kind for a\n  /// literal of the given type.\n  std::optional<NSNumberLiteralMethodKind>\n  getNSNumberFactoryMethodKind(QualType T) const;\n\n  /// Returns true if \\param T is a typedef of \"BOOL\" in objective-c.\n  bool isObjCBOOLType(QualType T) const;\n  /// Returns true if \\param T is a typedef of \"NSInteger\" in objective-c.\n  bool isObjCNSIntegerType(QualType T) const;\n  /// Returns true if \\param T is a typedef of \"NSUInteger\" in objective-c.\n  bool isObjCNSUIntegerType(QualType T) const;\n  /// Returns one of NSIntegral typedef names if \\param T is a typedef\n  /// of that name in objective-c.\n  StringRef GetNSIntegralKind(QualType T) const;\n\n  /// Returns \\c true if \\p Id is currently defined as a macro.\n  bool isMacroDefined(StringRef Id) const;\n\n  /// Returns \\c true if \\p InterfaceDecl is subclass of \\p NSClassKind\n  bool isSubclassOfNSClass(ObjCInterfaceDecl *InterfaceDecl,\n                           NSClassIdKindKind NSClassKind) const;\n\nprivate:\n  bool isObjCTypedef(QualType T, StringRef name, IdentifierInfo *&II) const;\n  bool isObjCEnumerator(const Expr *E,\n                        StringRef name, IdentifierInfo *&II) const;\n  Selector getOrInitSelector(ArrayRef<StringRef> Ids, Selector &Sel) const;\n  Selector getOrInitNullarySelector(StringRef Id, Selector &Sel) const;\n\n  ASTContext &Ctx;\n\n  mutable IdentifierInfo *ClassIds[NumClassIds];\n\n  mutable Selector NSStringSelectors[NumNSStringMethods];\n\n  /// The selectors for Objective-C NSArray methods.\n  mutable Selector NSArraySelectors[NumNSArrayMethods];\n\n  /// The selectors for Objective-C NSDictionary methods.\n  mutable Selector NSDictionarySelectors[NumNSDictionaryMethods];\n\n  /// The selectors for Objective-C NSSet methods.\n  mutable Selector NSSetSelectors[NumNSSetMethods];\n\n  /// The Objective-C NSNumber selectors used to create NSNumber literals.\n  mutable Selector NSNumberClassSelectors[NumNSNumberLiteralMethods];\n  mutable Selector NSNumberInstanceSelectors[NumNSNumberLiteralMethods];\n\n  mutable Selector objectForKeyedSubscriptSel, objectAtIndexedSubscriptSel,\n                   setObjectForKeyedSubscriptSel,setObjectAtIndexedSubscriptSel,\n                   isEqualSel, InitSel, NewSel;\n\n  mutable IdentifierInfo *BOOLId, *NSIntegerId, *NSUIntegerId;\n  mutable IdentifierInfo *NSASCIIStringEncodingId, *NSUTF8StringEncodingId;\n};\n\n}\n}\n\n} // extern \"C\"\n",
  "id": "BLOCK-CPP-11312",
  "language": "c++",
  "source_file": "/storage/emulated/0/Download/cpp_codebases/llvm/clang/include/clang/AST/NSAPI.h",
  "source_line": 16,
  "validation_status": "validated"
}