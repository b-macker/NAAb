fn add_five(x: int) -> int {
    return x + 5
}

fn double(x: int) -> int {
    return x * 2
}

fn add_ten(x: int) -> int {
    return x + 10
}

main {
    print("=== ISS-003 Comprehensive Pipeline Tests ===")
    
    # Test 1: Single-line two-stage
    print("\nTest 1: Single-line two-stage")
    let r1 = 10 |> add_five |> double
    print("  Result: ", r1, " (expected 30)")
    
    # Test 2: Multi-line two-stage
    print("\nTest 2: Multi-line two-stage")
    let r2 = 10
        |> add_five
        |> double
    print("  Result: ", r2, " (expected 30)")
    
    # Test 3: Single-line three-stage
    print("\nTest 3: Single-line three-stage")
    let r3 = 5 |> add_five |> double |> add_ten
    print("  Result: ", r3, " (expected 30)")
    
    # Test 4: Multi-line three-stage
    print("\nTest 4: Multi-line three-stage")
    let r4 = 5
        |> add_five
        |> double
        |> add_ten
    print("  Result: ", r4, " (expected 30)")
    
    # Test 5: Mixed formatting
    print("\nTest 5: Mixed formatting")
    let r5 = 5 |> add_five
        |> double
        |> add_ten
    print("  Result: ", r5, " (expected 30)")
    
    # Test 6: Five-stage multi-line
    print("\nTest 6: Five-stage multi-line")
    let r6 = 1
        |> add_five
        |> add_five
        |> add_five
        |> double
        |> add_ten
    print("  Result: ", r6, " (expected 42)")
    
    print("\n==============================================")
    print("Single-line: ", r1, " = ", r3)
    print("Multi-line:  ", r2, " = ", r4, " = ", r5)
    print("Long chain:  ", r6)
    print("==============================================")
}
