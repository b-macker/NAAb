// verification/chaos_tests/memory_stress.naab
// Goal: Detect OOM or inefficient array growth.

main {
    print("--- MEMORY STRESS ---")

    let arr = []
    print("Building array of 50,000 items...")

    let i = 0
    while i < 50000 {
        arr.push(i)
        if i % 10000 == 0 { print("Count: " + i) }
        i = i + 1
    }

    print("Final length: " + arr.length())
    print("Peak item: " + arr[49999])

    if arr.length() == 50000 {
        print("PASS: Memory stress test passed")
    } else {
        print("FAIL: Array growth failed")
    }
}
