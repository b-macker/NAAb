// verification/chaos_tests/recursion_limit.naab
// Goal: Find the stack ceiling and check for stability during deep calls.

fn recurse(depth, limit) {
    if depth >= limit {
        return depth
    }
    return recurse(depth + 1, limit)
}

main {
    print("--- RECURSION DEPTH ---")

    let depths = [10, 100, 500, 1000]
    for d in depths {
        try {
            let result = recurse(0, d)
            print("Depth " + d + ": PASS (reached " + result + ")")
        } catch (e) {
            print("Depth " + d + ": CAUGHT â€” " + e["message"])
        }
    }
}
